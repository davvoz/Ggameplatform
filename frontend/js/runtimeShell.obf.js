const a0_0x1e25e4=a0_0x4247;(function(_0x1913aa,_0x197419){const _0x45b077=a0_0x4247,_0xa78cc=_0x1913aa();while(!![]){try{const _0x257ee3=-parseInt(_0x45b077(0x25e))/0x1*(parseInt(_0x45b077(0x230))/0x2)+-parseInt(_0x45b077(0x25d))/0x3*(parseInt(_0x45b077(0x193))/0x4)+parseInt(_0x45b077(0x10f))/0x5+parseInt(_0x45b077(0x1b1))/0x6+-parseInt(_0x45b077(0x208))/0x7+parseInt(_0x45b077(0x1a3))/0x8+-parseInt(_0x45b077(0x257))/0x9;if(_0x257ee3===_0x197419)break;else _0xa78cc['push'](_0xa78cc['shift']());}catch(_0x315a52){_0xa78cc['push'](_0xa78cc['shift']());}}}(a0_0x353e,0x4c87d));function a0_0x4247(_0x593535,_0x4da9e0){_0x593535=_0x593535-0xf7;const _0x353e50=a0_0x353e();let _0x42472e=_0x353e50[_0x593535];return _0x42472e;}import{config}from'./config.js';const PROTOCOL_VERSION='1.0.0',GAME_MESSAGE_TYPES={'SCORE_UPDATE':a0_0x1e25e4(0x1d6),'GAME_OVER':a0_0x1e25e4(0x187),'LEVEL_COMPLETED':a0_0x1e25e4(0x1d9),'REQUEST_FULLSCREEN':a0_0x1e25e4(0x223),'LOG':a0_0x1e25e4(0x205),'READY':'ready','RESET_SESSION':'resetSession','GAME_STARTED':a0_0x1e25e4(0x138),'SAVE_PROGRESS':a0_0x1e25e4(0x16d),'LOAD_PROGRESS':'loadProgress'},PLATFORM_MESSAGE_TYPES={'START':a0_0x1e25e4(0x268),'PAUSE':a0_0x1e25e4(0x161),'RESUME':a0_0x1e25e4(0x19d),'EXIT':'exit','CONFIG':a0_0x1e25e4(0x219)};export default class RuntimeShell{constructor(_0x3cdb9a,_0x2c192a,_0x2f2930={}){const _0x821f77=a0_0x1e25e4,_0x334191={'kYbla':_0x821f77(0x101),'SlUYY':'http://localhost:3000','iAJhv':_0x821f77(0x20a)};this[_0x821f77(0x23c)]=_0x3cdb9a,this[_0x821f77(0x1f7)]=_0x2c192a;const _0x4664bb=window['ENV']?.[_0x821f77(0x177)]||window['location'][_0x821f77(0x25a)],_0x16e97b=[window[_0x821f77(0x1fc)][_0x821f77(0x25a)],_0x4664bb,_0x334191['kYbla'],_0x334191[_0x821f77(0x1ad)]];this['config']={'allowedOrigins':_0x2f2930[_0x821f77(0x1e0)]||_0x16e97b,'debug':_0x2f2930['debug']||![],'timeout':_0x2f2930[_0x821f77(0x19a)]||0x7530},this[_0x821f77(0x1f0)]=null,this['sessionStartTime']=null,this[_0x821f77(0x25f)]=0x0,this[_0x821f77(0x1ab)]={'isReady':![],'isPaused':![],'score':0x0,'level':0x1,'isGameOver':![]},this[_0x821f77(0x13e)]=!![],this[_0x821f77(0x15f)]=new Map(),this['messageQueue']=[],this[_0x821f77(0x18e)]=this[_0x821f77(0x199)][_0x821f77(0x131)](this),this[_0x821f77(0x205)](_0x334191[_0x821f77(0x16b)],_0x2c192a);}[a0_0x1e25e4(0x1db)](){const _0x2de84f=a0_0x1e25e4,_0x49dbfd={'CFYXN':'Iframe\x20loaded,\x20waiting\x20for\x20game\x20ready\x20signal...','KmFSf':function(_0x2b3099,_0x42cb43,_0x3425d5){return _0x2b3099(_0x42cb43,_0x3425d5);},'mZhik':'load','SvgzE':_0x2de84f(0xf9)};window['addEventListener'](_0x2de84f(0x150),this['boundMessageHandler']),this[_0x2de84f(0x23c)]['addEventListener'](_0x49dbfd[_0x2de84f(0x1a7)],()=>{const _0x4fb776=_0x2de84f;this[_0x4fb776(0x205)](_0x49dbfd[_0x4fb776(0x156)]),_0x49dbfd[_0x4fb776(0x222)](setTimeout,()=>{const _0x98cebe=_0x4fb776;this[_0x98cebe(0xf8)]();},0x1f4);}),this['log'](_0x49dbfd[_0x2de84f(0x179)]);}['handleMessage'](_0x855c8a){const _0x3cabff=a0_0x1e25e4,_0x7bb6a4={'CmjnC':_0x3cabff(0x267),'yihBu':function(_0x2b3b20,_0x3c4773){return _0x2b3b20===_0x3c4773;},'yrWOc':_0x3cabff(0x1bf),'aZsCt':function(_0x29c99f,_0x3a49f4){return _0x29c99f===_0x3a49f4;},'hTsaS':_0x3cabff(0x191),'esifN':'Rejected\x20message\x20from\x20invalid\x20origin:','XvQTv':'Rejected\x20invalid\x20message\x20format:','TSnTu':_0x3cabff(0x1b0),'mmHNf':_0x3cabff(0x147)},_0x3850b6=_0x855c8a[_0x3cabff(0x185)];if(_0x3850b6&&_0x7bb6a4['yihBu'](typeof _0x3850b6,_0x3cabff(0x1df))&&(_0x7bb6a4[_0x3cabff(0x164)](_0x3850b6['target'],_0x7bb6a4[_0x3cabff(0x1cd)])||_0x7bb6a4[_0x3cabff(0x115)](_0x3850b6[_0x3cabff(0x180)],'metamask-provider')||_0x7bb6a4[_0x3cabff(0x164)](_0x3850b6['name'],_0x7bb6a4[_0x3cabff(0x153)])))return;if(!this['isValidOrigin'](_0x855c8a[_0x3cabff(0x25a)])){this[_0x3cabff(0x205)](_0x7bb6a4[_0x3cabff(0x21c)],_0x855c8a[_0x3cabff(0x25a)]);return;}if(!this[_0x3cabff(0x183)](_0x3850b6)){this['log'](_0x7bb6a4[_0x3cabff(0x1ac)],_0x3850b6);return;}this[_0x3cabff(0x205)](_0x7bb6a4[_0x3cabff(0x1d3)],_0x3850b6);switch(_0x3850b6[_0x3cabff(0x1c7)]){case GAME_MESSAGE_TYPES[_0x3cabff(0x166)]:this[_0x3cabff(0x24b)](_0x3850b6[_0x3cabff(0x220)]);break;case GAME_MESSAGE_TYPES[_0x3cabff(0x238)]:this[_0x3cabff(0x1d4)](_0x3850b6[_0x3cabff(0x220)]);break;case GAME_MESSAGE_TYPES[_0x3cabff(0x23f)]:this['handleGameOver'](_0x3850b6[_0x3cabff(0x220)]);break;case GAME_MESSAGE_TYPES[_0x3cabff(0x1c4)]:this[_0x3cabff(0x262)](_0x3850b6[_0x3cabff(0x220)]);break;case GAME_MESSAGE_TYPES[_0x3cabff(0x1e4)]:this[_0x3cabff(0x133)]();break;case GAME_MESSAGE_TYPES[_0x3cabff(0x121)]:break;case GAME_MESSAGE_TYPES[_0x3cabff(0x23d)]:this[_0x3cabff(0x14f)]()['then'](()=>{const _0x45e1ea=_0x3cabff;this[_0x45e1ea(0x205)](_0x7bb6a4[_0x45e1ea(0x232)]);});break;case GAME_MESSAGE_TYPES[_0x3cabff(0x201)]:this['log'](_0x7bb6a4[_0x3cabff(0x145)]);if(!this[_0x3cabff(0x1f0)])this[_0x3cabff(0x136)]();else{}break;case GAME_MESSAGE_TYPES[_0x3cabff(0x13b)]:this[_0x3cabff(0x21d)](_0x3850b6[_0x3cabff(0x220)]);break;case GAME_MESSAGE_TYPES['LOAD_PROGRESS']:this[_0x3cabff(0x1e2)](_0x3850b6[_0x3cabff(0x220)]);break;default:this['log'](_0x3cabff(0x18a),_0x3850b6[_0x3cabff(0x1c7)]);}this[_0x3cabff(0x217)](_0x3850b6[_0x3cabff(0x1c7)],_0x3850b6[_0x3cabff(0x220)]);}[a0_0x1e25e4(0x1aa)](_0x3f4801){const _0x167a2b=a0_0x1e25e4;if(this['config'][_0x167a2b(0x1e0)][_0x167a2b(0x15b)]('*'))return!![];const _0x3aaf80=this[_0x167a2b(0x219)][_0x167a2b(0x1e0)][_0x167a2b(0x15b)](_0x3f4801);if(!_0x3aaf80){}return _0x3aaf80;}[a0_0x1e25e4(0x183)](_0x566516){const _0x41e52e=a0_0x1e25e4,_0x5ed54d={'YUTTl':_0x41e52e(0x1a9)};return _0x566516&&typeof _0x566516===_0x41e52e(0x1df)&&typeof _0x566516['type']===_0x5ed54d[_0x41e52e(0x227)]&&_0x566516[_0x41e52e(0x10a)]===PROTOCOL_VERSION;}[a0_0x1e25e4(0x24b)](_0x28696b){const _0x3d13f1=a0_0x1e25e4,_0x4b730d={'rfUYD':'0|1|4|2|3','TdrKC':_0x3d13f1(0x26a)},_0x5fc860=_0x4b730d['rfUYD']['split']('|');let _0x4433d5=0x0;while(!![]){switch(_0x5fc860[_0x4433d5++]){case'0':this['state'][_0x3d13f1(0x152)]=!![];continue;case'1':this[_0x3d13f1(0x205)](_0x4b730d[_0x3d13f1(0x12a)],_0x28696b);continue;case'2':this[_0x3d13f1(0x195)]();continue;case'3':this[_0x3d13f1(0x268)]();continue;case'4':this[_0x3d13f1(0x205)](_0x3d13f1(0x237));continue;}break;}}[a0_0x1e25e4(0x1d4)](_0x351363){const _0x2ced8a=a0_0x1e25e4,_0xe4f450={'XHIwq':function(_0x2554b2,_0x52b2f3){return _0x2554b2===_0x52b2f3;},'cpeyl':'number','cSPrW':'‚úÖ\x20Creating\x20new\x20session\x20for\x20restart...'};if(_0x351363&&_0xe4f450[_0x2ced8a(0x218)](typeof _0x351363[_0x2ced8a(0x22a)],_0xe4f450[_0x2ced8a(0x1ee)])){const _0x5111c9=this[_0x2ced8a(0x1ab)][_0x2ced8a(0x16a)]&&_0xe4f450[_0x2ced8a(0x218)](_0x351363[_0x2ced8a(0x22a)],0x0);_0x5111c9&&(this[_0x2ced8a(0x205)](_0x2ced8a(0x1d2)),this[_0x2ced8a(0x13e)]&&!this[_0x2ced8a(0x1f0)]?(this[_0x2ced8a(0x205)](_0xe4f450['cSPrW']),this['needsNewSession']=![],this['state']['isGameOver']=![],this[_0x2ced8a(0x136)]()):this[_0x2ced8a(0x1ab)][_0x2ced8a(0x16a)]=![]),this[_0x2ced8a(0x1ab)]['score']=_0x351363['score'],this[_0x2ced8a(0x247)](_0x351363[_0x2ced8a(0x22a)]);}}['handleGameOver'](_0x478032){const _0x38b09c=a0_0x1e25e4,_0x320120={'NFzMr':'üéØ\x20GameOver\x20payload\x20received:','FbSoj':_0x38b09c(0x10b),'drrNe':_0x38b09c(0x16e),'whmTi':'2|4|5|0|3|1','bBUfz':function(_0x5be90c,_0x8e277a){return _0x5be90c!==_0x8e277a;},'yfDIK':function(_0x32420b,_0x2fe85b){return _0x32420b!==_0x2fe85b;},'mnSpr':'üíÄ\x20Game\x20Over!\x20Final\x20score:','yENrL':'üìä\x20Extra\x20data:','xoLfo':'‚ö†Ô∏è\x20No\x20sessionId\x20-\x20game\x20ended\x20before\x20session\x20was\x20created'};this[_0x38b09c(0x205)](_0x320120[_0x38b09c(0x204)],_0x478032),this['log'](_0x320120[_0x38b09c(0x1b7)],this[_0x38b09c(0x1ab)][_0x38b09c(0x22a)]),this[_0x38b09c(0x205)](_0x320120[_0x38b09c(0x15c)],this[_0x38b09c(0x1f0)]),this['log'](_0x38b09c(0x1ef),this[_0x38b09c(0x14c)]);const _0x23e5fa=_0x478032?.['score']??this[_0x38b09c(0x1ab)][_0x38b09c(0x22a)]??0x0;this[_0x38b09c(0x1ab)][_0x38b09c(0x22a)]=_0x23e5fa;const _0x5e0740=_0x478032?.[_0x38b09c(0x157)]||_0x478032?.[_0x38b09c(0x17a)]||{};if(_0x478032){const _0x5116fd=_0x320120[_0x38b09c(0xfc)][_0x38b09c(0x15e)]('|');let _0x1fc5ee=0x0;while(!![]){switch(_0x5116fd[_0x1fc5ee++]){case'0':if(_0x320120[_0x38b09c(0x228)](_0x478032[_0x38b09c(0x1e7)],undefined)&&!_0x5e0740[_0x38b09c(0x1e7)])_0x5e0740['survival_time']=_0x478032[_0x38b09c(0x1e7)];continue;case'1':if(_0x478032[_0x38b09c(0x140)]!==undefined&&!_0x5e0740['player_level'])_0x5e0740[_0x38b09c(0x140)]=_0x478032['player_level'];continue;case'2':if(_0x320120[_0x38b09c(0x234)](_0x478032[_0x38b09c(0x197)],undefined)&&!_0x5e0740['kills'])_0x5e0740[_0x38b09c(0x197)]=_0x478032[_0x38b09c(0x197)];continue;case'3':if(_0x320120[_0x38b09c(0x234)](_0x478032[_0x38b09c(0x22d)],undefined)&&!_0x5e0740[_0x38b09c(0x22d)])_0x5e0740[_0x38b09c(0x22d)]=_0x478032['enemies_killed'];continue;case'4':if(_0x478032[_0x38b09c(0x170)]!==undefined&&!_0x5e0740['time'])_0x5e0740[_0x38b09c(0x170)]=_0x478032['time'];continue;case'5':if(_0x320120[_0x38b09c(0x234)](_0x478032['level'],undefined)&&!_0x5e0740[_0x38b09c(0x184)])_0x5e0740[_0x38b09c(0x184)]=_0x478032[_0x38b09c(0x184)];continue;}break;}}this[_0x38b09c(0x205)](_0x320120[_0x38b09c(0x1dc)],this['state']['score']),this[_0x38b09c(0x205)](_0x320120[_0x38b09c(0x270)],_0x5e0740),this[_0x38b09c(0x1a6)](this[_0x38b09c(0x1ab)]['score']);if(this[_0x38b09c(0x1f0)]){this[_0x38b09c(0x205)](_0x38b09c(0x139),this[_0x38b09c(0x1f0)]);const _0x6e3ad0=this[_0x38b09c(0x1f0)],_0x4362fa=this[_0x38b09c(0x14c)];this['sessionId']=null,this['sessionStartTime']=null,this[_0x38b09c(0x18d)](_0x6e3ad0,this['state']['score'],_0x4362fa,![],_0x5e0740),this[_0x38b09c(0x1ab)][_0x38b09c(0x16a)]=!![],this['needsNewSession']=!![];}else this[_0x38b09c(0x205)](_0x320120[_0x38b09c(0x210)]),this[_0x38b09c(0x1ab)]['isGameOver']=!![],this['needsNewSession']=!![];}[a0_0x1e25e4(0x262)](_0x109f88){const _0x2e384d=a0_0x1e25e4,_0x42009e={'qjCyh':_0x2e384d(0x26c)};_0x109f88&&typeof _0x109f88[_0x2e384d(0x184)]===_0x42009e[_0x2e384d(0x231)]&&(this[_0x2e384d(0x1ab)][_0x2e384d(0x184)]=_0x109f88[_0x2e384d(0x184)],this[_0x2e384d(0x205)](_0x2e384d(0x162),_0x109f88[_0x2e384d(0x184)]),this['showLevelCompleteOverlay'](_0x109f88['level']));}[a0_0x1e25e4(0x133)](){const _0x255387=a0_0x1e25e4,_0x40aeb6={'Fjxti':'.game-player','bcgYg':function(_0x514100,_0x142c81){return _0x514100===_0x142c81;},'lpzhv':_0x255387(0x263),'fvzse':function(_0x111bf2,_0x305ace){return _0x111bf2>_0x305ace;},'rXflg':_0x255387(0x269),'jcCFy':function(_0x3e7c06,_0x50fbca){return _0x3e7c06||_0x50fbca;},'dHWLw':function(_0x5900ad,_0x5140e9){return _0x5900ad&&_0x5140e9;},'wRWEg':_0x255387(0x256)},_0x49c05e=this[_0x255387(0x23c)][_0x255387(0x1f6)],_0x503f65=document[_0x255387(0x13c)](_0x40aeb6[_0x255387(0xf7)]),_0x3df041=_0x503f65||_0x49c05e,_0xbcca04=/iPad|iPhone|iPod/[_0x255387(0x11c)](navigator[_0x255387(0x12c)])&&!window[_0x255387(0x1e3)],_0x20a6a4=_0x40aeb6[_0x255387(0x26d)](navigator[_0x255387(0x1f3)],_0x40aeb6[_0x255387(0x24e)])&&_0x40aeb6[_0x255387(0x1d8)](navigator[_0x255387(0x16c)],0x1),_0x24d72b=/^((?!chrome|android).)*safari/i[_0x255387(0x11c)](navigator[_0x255387(0x12c)]),_0xf6ed7c=document[_0x255387(0x25c)]||document[_0x255387(0x214)]||document[_0x255387(0x23e)],_0x84dde4=document[_0x255387(0x1eb)]||document[_0x255387(0x200)]||document[_0x255387(0x1a8)],_0x5adbc7=_0x3df041['classList'][_0x255387(0x1d5)](_0x40aeb6['rXflg']);if(_0x40aeb6[_0x255387(0x1ba)](_0xbcca04,_0x20a6a4)&&!_0xf6ed7c)this['enableIOSFullscreenFallback'](_0x49c05e,_0x503f65);else{if(_0x40aeb6['dHWLw'](_0x24d72b,!_0xf6ed7c))this[_0x255387(0x23a)](_0x49c05e,_0x503f65);else{if(_0x84dde4){this[_0x255387(0x205)](_0x40aeb6[_0x255387(0x14b)]);if(document[_0x255387(0x19c)])document['exitFullscreen']();else{if(document[_0x255387(0x14a)])document[_0x255387(0x14a)]();else document[_0x255387(0x25b)]&&document['msExitFullscreen']();}}else{if(_0x5adbc7)this[_0x255387(0x104)](_0x3df041);else{this[_0x255387(0x205)](_0x255387(0x1ca));if(_0x3df041[_0x255387(0x22e)])_0x3df041[_0x255387(0x22e)]();else{if(_0x3df041[_0x255387(0x1f4)])_0x3df041[_0x255387(0x1f4)]();else _0x3df041[_0x255387(0x154)]?_0x3df041[_0x255387(0x154)]():this[_0x255387(0x23a)](_0x49c05e,_0x503f65);}}}}}}[a0_0x1e25e4(0x23a)](_0x2b6fed,_0x188d6a){const _0x3cfbb6=a0_0x1e25e4,_0x5578f3={'NOtMU':_0x3cfbb6(0x269)},_0x21ef0d=_0x188d6a||_0x2b6fed,_0x38fd18=_0x21ef0d[_0x3cfbb6(0x1ce)][_0x3cfbb6(0x1d5)](_0x5578f3[_0x3cfbb6(0x1f2)]);_0x38fd18?this['exitIOSFullscreen'](_0x21ef0d):this[_0x3cfbb6(0x109)](_0x21ef0d);}[a0_0x1e25e4(0x109)](_0x35e351){const _0x33f09f=a0_0x1e25e4,_0x4d9748={'MvnyA':_0x33f09f(0x269),'imMQc':_0x33f09f(0x120),'elVgY':_0x33f09f(0x1c8),'lNvhF':_0x33f09f(0x100)};_0x35e351[_0x33f09f(0x1ce)]['add'](_0x4d9748['MvnyA']),document[_0x33f09f(0x24d)][_0x33f09f(0x1ce)][_0x33f09f(0x1c3)](_0x4d9748[_0x33f09f(0x106)]),document[_0x33f09f(0x24d)][_0x33f09f(0x24a)][_0x33f09f(0x209)]=_0x4d9748[_0x33f09f(0x114)];const _0x23e32e=document[_0x33f09f(0x13c)](_0x33f09f(0x252));_0x23e32e&&(_0x23e32e[_0x33f09f(0x24a)][_0x33f09f(0x1bb)]=_0x4d9748[_0x33f09f(0x1ea)]),this[_0x33f09f(0x189)](_0x35e351),setTimeout(()=>{window['scrollTo'](0x0,0x1);},0x64),this[_0x33f09f(0x205)](_0x33f09f(0x17b));}['exitIOSFullscreen'](_0x33a89b){const _0xe9cdc5=a0_0x1e25e4,_0x188ad9={'TtIKS':_0xe9cdc5(0x269),'FAHwI':_0xe9cdc5(0x252)};_0x33a89b[_0xe9cdc5(0x1ce)][_0xe9cdc5(0x259)](_0x188ad9[_0xe9cdc5(0x1f9)]),document[_0xe9cdc5(0x24d)][_0xe9cdc5(0x1ce)][_0xe9cdc5(0x259)]('ios-fullscreen-active'),document[_0xe9cdc5(0x24d)][_0xe9cdc5(0x24a)][_0xe9cdc5(0x209)]='';const _0x5dafb3=document['querySelector'](_0x188ad9[_0xe9cdc5(0x211)]);_0x5dafb3&&(_0x5dafb3[_0xe9cdc5(0x24a)][_0xe9cdc5(0x1bb)]=''),this[_0xe9cdc5(0xff)](),this[_0xe9cdc5(0x205)](_0xe9cdc5(0x202));}[a0_0x1e25e4(0x189)](_0x5cbcff){const _0x4f5dfd=a0_0x1e25e4,_0xdac07c={'pNrfs':_0x4f5dfd(0x11a),'tWbvS':_0x4f5dfd(0x1d1),'VoXoZ':_0x4f5dfd(0x17f)};this[_0x4f5dfd(0xff)]();const _0xcc0521=document[_0x4f5dfd(0x123)](_0x4f5dfd(0x13a));_0xcc0521['id']=_0xdac07c[_0x4f5dfd(0x11e)],_0xcc0521[_0x4f5dfd(0x1c9)]=_0xdac07c[_0x4f5dfd(0x11e)],_0xcc0521['innerHTML']='‚úï',_0xcc0521['setAttribute'](_0xdac07c[_0x4f5dfd(0x124)],_0xdac07c['VoXoZ']),_0xcc0521[_0x4f5dfd(0x167)]('click',_0x210333=>{const _0x2ef611=_0x4f5dfd;_0x210333[_0x2ef611(0x1e5)](),_0x210333['stopPropagation'](),this['exitIOSFullscreen'](_0x5cbcff);}),document[_0x4f5dfd(0x24d)]['appendChild'](_0xcc0521);}[a0_0x1e25e4(0xff)](){const _0x51afa7=a0_0x1e25e4,_0x4dfe77={'GKUYj':_0x51afa7(0x11a)},_0x4ba5d4=document[_0x51afa7(0x239)](_0x4dfe77[_0x51afa7(0x261)]);_0x4ba5d4&&_0x4ba5d4[_0x51afa7(0x259)]();}[a0_0x1e25e4(0x169)](_0x3d7f8a){const _0x42badd=a0_0x1e25e4;if(_0x3d7f8a&&_0x3d7f8a[_0x42badd(0x150)]){}}[a0_0x1e25e4(0x178)](_0x2813cf,_0x1d352d={}){const _0xb5c6c6=a0_0x1e25e4,_0x3d27ef={'ojKQQ':function(_0xf99b39,_0x4e6f5a){return _0xf99b39!==_0x4e6f5a;},'sRydZ':'Game\x20not\x20ready,\x20queuing\x20message:','uEBNF':_0xb5c6c6(0x151)};if(!this[_0xb5c6c6(0x23c)]['contentWindow']){this['log'](_0xb5c6c6(0x174));return;}const _0x5d6bb9={'type':_0x2813cf,'payload':_0x1d352d,'timestamp':Date[_0xb5c6c6(0x11d)](),'protocolVersion':PROTOCOL_VERSION,'gameId':this['gameId']};if(!this[_0xb5c6c6(0x1ab)]['isReady']&&_0x3d27ef[_0xb5c6c6(0xfb)](_0x2813cf,PLATFORM_MESSAGE_TYPES[_0xb5c6c6(0x20b)])){this[_0xb5c6c6(0x205)](_0x3d27ef[_0xb5c6c6(0x21b)],_0x2813cf),this[_0xb5c6c6(0x1fa)][_0xb5c6c6(0x1b4)](_0x5d6bb9);return;}this[_0xb5c6c6(0x205)](_0x3d27ef[_0xb5c6c6(0x224)],_0x5d6bb9),this[_0xb5c6c6(0x23c)][_0xb5c6c6(0x186)]['postMessage'](_0x5d6bb9,'*');}[a0_0x1e25e4(0x195)](){const _0x328550=a0_0x1e25e4,_0x490fbd={'JTQYC':_0x328550(0x1a1),'qnSQc':'messages'};this[_0x328550(0x205)](_0x490fbd[_0x328550(0x172)],this[_0x328550(0x1fa)]['length'],_0x490fbd[_0x328550(0x134)]);while(this[_0x328550(0x1fa)][_0x328550(0x117)]>0x0){const _0x37bcc1=this['messageQueue'][_0x328550(0x12f)]();this[_0x328550(0x23c)][_0x328550(0x186)][_0x328550(0x1da)](_0x37bcc1,'*');}}[a0_0x1e25e4(0xf8)](){const _0x111200=a0_0x1e25e4;let _0xd6e0c8=null,_0x335cd8=null;if(window[_0x111200(0x226)]&&window[_0x111200(0x226)][_0x111200(0x1a2)]()){const _0x3b589c=window[_0x111200(0x226)]['getUser']();_0xd6e0c8=_0x3b589c?.[_0x111200(0x14e)]||null,_0x335cd8=_0x3b589c?.[_0x111200(0x127)]||_0x3b589c?.[_0x111200(0x245)]||null;}this[_0x111200(0x178)](PLATFORM_MESSAGE_TYPES['CONFIG'],{'gameId':this[_0x111200(0x1f7)],'platformVersion':PROTOCOL_VERSION,'userId':_0xd6e0c8,'username':_0x335cd8,'features':{'scoreTracking':!![],'levelTracking':!![],'fullscreen':!![]}});}[a0_0x1e25e4(0x268)](){const _0x2fe8c7=a0_0x1e25e4,_0x35830f={'ukvst':_0x2fe8c7(0x21f)};this[_0x2fe8c7(0x205)](_0x35830f[_0x2fe8c7(0x23b)]),this[_0x2fe8c7(0x178)](PLATFORM_MESSAGE_TYPES[_0x2fe8c7(0x149)],{'timestamp':Date[_0x2fe8c7(0x11d)]()});}['pause'](){const _0x263e93=a0_0x1e25e4,_0x4fc6f7={'ulQhJ':_0x263e93(0x17c),'pIYgB':'Pausing\x20game'},_0x1d2213=_0x4fc6f7[_0x263e93(0x1e8)][_0x263e93(0x15e)]('|');let _0x4bfdb3=0x0;while(!![]){switch(_0x1d2213[_0x4bfdb3++]){case'0':this[_0x263e93(0x178)](PLATFORM_MESSAGE_TYPES[_0x263e93(0x212)],{'timestamp':Date[_0x263e93(0x11d)]()});continue;case'1':this[_0x263e93(0x248)]();continue;case'2':this[_0x263e93(0x1ab)][_0x263e93(0x108)]=!![];continue;case'3':if(this[_0x263e93(0x1ab)]['isPaused'])return;continue;case'4':this[_0x263e93(0x205)](_0x4fc6f7[_0x263e93(0x1bd)]);continue;}break;}}[a0_0x1e25e4(0x19d)](){const _0x58cc30=a0_0x1e25e4,_0x3399d7={'QcpgU':_0x58cc30(0x1fb)};if(!this['state'][_0x58cc30(0x108)])return;this['state']['isPaused']=![],this[_0x58cc30(0x205)](_0x3399d7[_0x58cc30(0x113)]),this['sendMessage'](PLATFORM_MESSAGE_TYPES[_0x58cc30(0x110)],{'timestamp':Date[_0x58cc30(0x11d)]()}),this[_0x58cc30(0x165)]();}[a0_0x1e25e4(0x20d)](){const _0x2c8e15=a0_0x1e25e4,_0xaf508e={'xAXbl':_0x2c8e15(0x1f1),'xwrhY':_0x2c8e15(0x269)};this['log'](_0xaf508e['xAXbl']),this[_0x2c8e15(0x178)](PLATFORM_MESSAGE_TYPES['EXIT'],{'timestamp':Date['now']()});const _0xb8bb39=this[_0x2c8e15(0x23c)]['parentElement'];_0xb8bb39&&_0xb8bb39[_0x2c8e15(0x1ce)][_0x2c8e15(0x1d5)](_0xaf508e[_0x2c8e15(0x236)])&&(_0xb8bb39['classList'][_0x2c8e15(0x259)](_0xaf508e['xwrhY']),document[_0x2c8e15(0x24d)][_0x2c8e15(0x24a)][_0x2c8e15(0x209)]=''),this[_0x2c8e15(0x1fe)](![],!![]);}['on'](_0x165af6,_0x4c45fc){const _0x30ff6c=a0_0x1e25e4;!this['eventHandlers'][_0x30ff6c(0x229)](_0x165af6)&&this[_0x30ff6c(0x15f)][_0x30ff6c(0x13d)](_0x165af6,[]),this['eventHandlers']['get'](_0x165af6)[_0x30ff6c(0x1b4)](_0x4c45fc);}[a0_0x1e25e4(0x258)](_0x223dd4,_0x16ab88){const _0x2f6f48=a0_0x1e25e4,_0x5b7a41={'niMYk':function(_0x27fbc9,_0x41accf){return _0x27fbc9!==_0x41accf;}};if(!this[_0x2f6f48(0x15f)][_0x2f6f48(0x229)](_0x223dd4))return;const _0x412906=this['eventHandlers'][_0x2f6f48(0x20e)](_0x223dd4),_0x2a7365=_0x412906[_0x2f6f48(0x10d)](_0x16ab88);_0x5b7a41[_0x2f6f48(0x24f)](_0x2a7365,-0x1)&&_0x412906[_0x2f6f48(0x118)](_0x2a7365,0x1);}[a0_0x1e25e4(0x217)](_0x1bf89a,_0xcdeb94){const _0x1b89bb=a0_0x1e25e4,_0x19ac97={'iYxtt':function(_0x591e44,_0x531a32){return _0x591e44(_0x531a32);}};if(!this[_0x1b89bb(0x15f)][_0x1b89bb(0x229)](_0x1bf89a))return;const _0x4857cf=this[_0x1b89bb(0x15f)][_0x1b89bb(0x20e)](_0x1bf89a);_0x4857cf[_0x1b89bb(0x1ff)](_0x54465f=>{const _0x4cdfac=_0x1b89bb;try{_0x19ac97[_0x4cdfac(0x1a0)](_0x54465f,_0xcdeb94);}catch(_0x4ebd4d){console[_0x4cdfac(0x1b6)](_0x4cdfac(0x12e),_0x4ebd4d);}});}['updateScoreDisplay'](_0x27cbb0){const _0x30e0f1=a0_0x1e25e4,_0x3c8b35={'PIbab':'current-score'},_0x440220=document[_0x30e0f1(0x239)](_0x3c8b35[_0x30e0f1(0x1ae)]);_0x440220&&(_0x440220[_0x30e0f1(0x15a)]=_0x27cbb0);}[a0_0x1e25e4(0x248)](){const _0x1bb691=a0_0x1e25e4,_0x4f4678={'BmFJc':_0x1bb691(0x103)},_0x3e524f=document['querySelector'](_0x4f4678[_0x1bb691(0x192)]);_0x3e524f&&(_0x3e524f[_0x1bb691(0x15a)]=_0x1bb691(0x18c),_0x3e524f['style'][_0x1bb691(0x203)]=_0x1bb691(0x1c2));}['hidePauseOverlay'](){const _0x5cb80c=a0_0x1e25e4,_0x1786da={'ZxIfl':_0x5cb80c(0x1cc)},_0x70eafc=document[_0x5cb80c(0x13c)](_0x5cb80c(0x103));_0x70eafc&&(_0x70eafc[_0x5cb80c(0x15a)]=_0x1786da[_0x5cb80c(0x1be)],_0x70eafc['style']['color']='var(--success)');}[a0_0x1e25e4(0x1a6)](_0x4b4b08){const _0x492dc5=a0_0x1e25e4,_0x1b558a={'AuiYW':'.game-status'},_0x5e3501=document[_0x492dc5(0x13c)](_0x1b558a[_0x492dc5(0x137)]);_0x5e3501&&(_0x5e3501[_0x492dc5(0x15a)]=_0x492dc5(0x250)+_0x4b4b08,_0x5e3501[_0x492dc5(0x24a)]['color']=_0x492dc5(0x1c1));}[a0_0x1e25e4(0x21e)](_0x30c29b){const _0x381a2b=a0_0x1e25e4,_0x4ca93f={'ldXnV':_0x381a2b(0x1cc),'wHunm':_0x381a2b(0x103),'KvjKZ':_0x381a2b(0x155),'NwWap':function(_0x24878,_0x2e1bde,_0x3419f8){return _0x24878(_0x2e1bde,_0x3419f8);}},_0x4b2d2c=document[_0x381a2b(0x13c)](_0x4ca93f[_0x381a2b(0x242)]);_0x4b2d2c&&(_0x4b2d2c[_0x381a2b(0x15a)]=_0x381a2b(0x146)+_0x30c29b+_0x381a2b(0x1e9),_0x4b2d2c[_0x381a2b(0x24a)]['color']=_0x4ca93f[_0x381a2b(0x105)],_0x4ca93f[_0x381a2b(0x1c5)](setTimeout,()=>{const _0x1a3340=_0x381a2b;_0x4b2d2c[_0x1a3340(0x15a)]=_0x4ca93f[_0x1a3340(0x1f5)];},0xbb8));}[a0_0x1e25e4(0x1fe)](_0xf812d8=![],_0x165963=![]){const _0x5ca461=a0_0x1e25e4,_0x599cfe={'ldyyN':'Cleanup:\x20Ending\x20active\x20session','tLKUT':_0x5ca461(0x125),'xbBEf':_0x5ca461(0x269),'WGfbI':_0x5ca461(0x150),'QbgbF':'RuntimeShell\x20cleaned\x20up'};if(this['sessionId']&&!_0x165963)this['log'](_0x599cfe[_0x5ca461(0x129)]),this[_0x5ca461(0x20f)](_0xf812d8);else{if(this['sessionId']&&_0x165963)this[_0x5ca461(0x205)](_0x599cfe['tLKUT']),this[_0x5ca461(0x1f0)]=null,this[_0x5ca461(0x14c)]=null;else{}}const _0x29fad4=this[_0x5ca461(0x23c)]?.[_0x5ca461(0x1f6)];_0x29fad4&&_0x29fad4['classList'][_0x5ca461(0x1d5)](_0x599cfe['xbBEf'])&&(_0x29fad4[_0x5ca461(0x1ce)][_0x5ca461(0x259)](_0x599cfe[_0x5ca461(0x17e)]),document['body'][_0x5ca461(0x24a)][_0x5ca461(0x209)]=''),window[_0x5ca461(0x19b)](_0x599cfe[_0x5ca461(0x24c)],this[_0x5ca461(0x18e)]),this['eventHandlers'][_0x5ca461(0x171)](),this[_0x5ca461(0x1fa)]=[],this[_0x5ca461(0x205)](_0x599cfe['QbgbF']);}async[a0_0x1e25e4(0x14f)](){const _0x281900=a0_0x1e25e4,_0x2d5e41={'Ohmze':_0x281900(0x11b),'HtIkZ':_0x281900(0x213),'rsDCf':_0x281900(0x1e6)};this[_0x281900(0x205)](_0x2d5e41[_0x281900(0x1b5)]);if(this['sessionId']){this[_0x281900(0x205)](_0x281900(0x163),this[_0x281900(0x1f0)]);const _0x2d4f96=this[_0x281900(0x1f0)],_0x1044b7=this['state'][_0x281900(0x22a)],_0x86f99d=this['sessionStartTime'];this['sessionId']=null,this[_0x281900(0x14c)]=null,await this['endGameSessionById'](_0x2d4f96,_0x1044b7,_0x86f99d,![]);}else this[_0x281900(0x205)](_0x2d5e41[_0x281900(0xfd)]);this[_0x281900(0x1ab)][_0x281900(0x22a)]=0x0,this['state'][_0x281900(0x16a)]=![],this[_0x281900(0x13e)]=![],this[_0x281900(0x205)](_0x2d5e41[_0x281900(0x102)]),await this['startGameSession']();}async[a0_0x1e25e4(0x136)](){const _0x1e01dd=a0_0x1e25e4,_0xfc29d0={'BmAkl':_0x1e01dd(0x10c),'wvnPt':function(_0x2bada3,_0x376f77){return _0x2bada3===_0x376f77;},'qSqdY':_0x1e01dd(0x176),'QuEKA':_0x1e01dd(0x1b3),'yhgLF':_0x1e01dd(0x143),'jbATi':_0x1e01dd(0x206),'Sbtqk':function(_0x311f8d,_0x330a7e,_0x2b5b1a){return _0x311f8d(_0x330a7e,_0x2b5b1a);},'vbkbl':_0x1e01dd(0x1dd),'nVVdM':'application/json','gWJZT':_0x1e01dd(0x15d),'zBaWF':_0x1e01dd(0x207),'TryXw':_0x1e01dd(0x1b8)};this[_0x1e01dd(0x205)](_0xfc29d0[_0x1e01dd(0x216)]);try{if(_0xfc29d0[_0x1e01dd(0x107)](typeof config,'undefined')||!config[_0x1e01dd(0x177)]){this['log'](_0x1e01dd(0x1cf));return;}const _0x4f9e82=JSON[_0x1e01dd(0x13f)](localStorage['getItem'](_0x1e01dd(0x19f)));this['log'](_0xfc29d0['qSqdY'],_0x4f9e82?_0x4f9e82[_0x1e01dd(0x14e)]:_0xfc29d0[_0x1e01dd(0x243)]);if(!_0x4f9e82){this['log'](_0xfc29d0[_0x1e01dd(0x130)]);return;}this[_0x1e01dd(0x205)](_0xfc29d0['jbATi'],config[_0x1e01dd(0x177)]);const _0x56c261=await _0xfc29d0['Sbtqk'](fetch,config[_0x1e01dd(0x177)]+_0x1e01dd(0x266),{'method':_0xfc29d0[_0x1e01dd(0x144)],'headers':{'Content-Type':_0xfc29d0[_0x1e01dd(0x1b9)]},'body':JSON[_0x1e01dd(0x1d7)]({'user_id':_0x4f9e82[_0x1e01dd(0x14e)],'game_id':this[_0x1e01dd(0x1f7)]})});this[_0x1e01dd(0x205)](_0xfc29d0[_0x1e01dd(0x1bc)],_0x56c261[_0x1e01dd(0x175)]);const _0x49e938=await _0x56c261[_0x1e01dd(0x20c)]();this[_0x1e01dd(0x205)](_0xfc29d0[_0x1e01dd(0x148)],_0x49e938),_0x49e938['success']?(this[_0x1e01dd(0x1f0)]=_0x49e938[_0x1e01dd(0x240)][_0x1e01dd(0x122)],this['sessionStartTime']=Date[_0x1e01dd(0x11d)](),this[_0x1e01dd(0x205)](_0xfc29d0[_0x1e01dd(0x225)],this[_0x1e01dd(0x1f0)])):this[_0x1e01dd(0x205)](_0x1e01dd(0x112),_0x49e938);}catch(_0x5cd2e8){this[_0x1e01dd(0x205)](_0x1e01dd(0x233),_0x5cd2e8);}}async['handleSaveProgress'](_0x2ebaa7){const _0x5c23a=a0_0x1e25e4,_0x28fe9f={'oRycg':_0x5c23a(0x19f),'tgiMx':'undefined','PtdKk':_0x5c23a(0x132),'njPES':function(_0x2e38d0,_0x18963b,_0x477f27){return _0x2e38d0(_0x18963b,_0x477f27);},'BzLbQ':_0x5c23a(0x255),'RKCHp':'‚úÖ\x20Progress\x20saved','uaNwb':_0x5c23a(0x12d),'erkrU':_0x5c23a(0x126)};try{const _0x5c33bc=JSON[_0x5c23a(0x13f)](localStorage[_0x5c23a(0xfe)](_0x28fe9f[_0x5c23a(0x1b2)]));if(!_0x5c33bc){this[_0x5c23a(0x205)]('‚ùå\x20No\x20user,\x20cannot\x20save\x20progress');return;}if(typeof config===_0x28fe9f[_0x5c23a(0x1c6)]||!config[_0x5c23a(0x177)]){this[_0x5c23a(0x205)](_0x28fe9f[_0x5c23a(0x1ec)]);return;}const _0x3c924a=await _0x28fe9f[_0x5c23a(0x198)](fetch,config[_0x5c23a(0x177)]+_0x5c23a(0x249)+_0x5c33bc[_0x5c23a(0x14e)]+'/'+this[_0x5c23a(0x1f7)],{'method':_0x28fe9f[_0x5c23a(0x22f)],'headers':{'Content-Type':_0x5c23a(0x26e)},'body':JSON[_0x5c23a(0x1d7)]({'progress_data':_0x2ebaa7['progress_data']})}),_0x4e591d=await _0x3c924a['json']();this[_0x5c23a(0x205)](_0x4e591d['success']?_0x28fe9f['RKCHp']:_0x28fe9f[_0x5c23a(0x235)],_0x4e591d);}catch(_0x139fc6){this[_0x5c23a(0x205)](_0x28fe9f[_0x5c23a(0x17d)],_0x139fc6);}}async['handleLoadProgress'](_0x1462c0){const _0x47c207=a0_0x1e25e4,_0x29a72d={'cyYIX':function(_0xfd707b,_0x7f63b7){return _0xfd707b(_0x7f63b7);},'FedYd':'‚ùå\x20Exception\x20loading\x20progress:'};try{const _0x19eb8f=JSON[_0x47c207(0x13f)](localStorage['getItem'](_0x47c207(0x19f)));if(!_0x19eb8f){this[_0x47c207(0x253)](_0x1462c0['_requestId'],null);return;}if(typeof config===_0x47c207(0x264)||!config[_0x47c207(0x177)]){this[_0x47c207(0x253)](_0x1462c0[_0x47c207(0x16f)],null);return;}const _0x4f390e=await _0x29a72d[_0x47c207(0x244)](fetch,config[_0x47c207(0x177)]+_0x47c207(0x249)+_0x19eb8f[_0x47c207(0x14e)]+'/'+this[_0x47c207(0x1f7)]),_0x320a50=await _0x4f390e['json']();_0x320a50[_0x47c207(0x260)]&&_0x320a50[_0x47c207(0x12b)]?this[_0x47c207(0x253)](_0x1462c0['_requestId'],_0x320a50['progress'][_0x47c207(0x194)]):this[_0x47c207(0x253)](_0x1462c0[_0x47c207(0x16f)],null);}catch(_0x30696b){this['log'](_0x29a72d[_0x47c207(0x128)],_0x30696b),this[_0x47c207(0x253)](_0x1462c0[_0x47c207(0x16f)],null);}}['sendProgressResponse'](_0x3591c3,_0x5a7a98){const _0x1d0907=a0_0x1e25e4,_0x24c138={'OIcbv':_0x1d0907(0x251)};if(!this['iframe']||!this[_0x1d0907(0x23c)]['contentWindow'])return;this[_0x1d0907(0x23c)][_0x1d0907(0x186)][_0x1d0907(0x1da)]({'type':_0x24c138[_0x1d0907(0x190)],'payload':{'_requestId':_0x3591c3,'progress_data':_0x5a7a98},'protocolVersion':PROTOCOL_VERSION,'timestamp':Date[_0x1d0907(0x11d)]()},'*');}async[a0_0x1e25e4(0x20f)](_0x17aa7e=![]){const _0x1fa03f=a0_0x1e25e4;if(!this[_0x1fa03f(0x1f0)])return;const _0x2fcb58=this['sessionId'],_0x4cf48c=this[_0x1fa03f(0x1ab)][_0x1fa03f(0x22a)],_0x48885b=this[_0x1fa03f(0x14c)];this['sessionId']=null,this[_0x1fa03f(0x14c)]=null,await this['endGameSessionById'](_0x2fcb58,_0x4cf48c,_0x48885b,_0x17aa7e);}async['endGameSessionById'](_0xbccfb8,_0x494b69,_0x159cef,_0x340ad8=![],_0x1c88d3=null){const _0x140690=a0_0x1e25e4,_0x5ec05f={'HIgbF':function(_0x3866eb,_0xa52f09){return _0x3866eb-_0xa52f09;},'TtWBM':function(_0x186b08,_0x2b2cb2){return _0x186b08===_0x2b2cb2;},'RsfzY':_0x140690(0x26c),'kEreF':_0x140690(0x1af),'ZradQ':'Score:','kwfvC':function(_0x560fe8,_0x606af1){return _0x560fe8||_0x606af1;},'IshvU':_0x140690(0x116),'MWrOa':_0x140690(0x26e),'iNnFg':_0x140690(0x1a4),'DtWCJ':function(_0x56a954,_0x54c3a0,_0x407418){return _0x56a954(_0x54c3a0,_0x407418);},'fneMG':'POST','UGiTC':_0x140690(0x111),'rZBSY':_0x140690(0xfa),'CbGNV':'Failed\x20to\x20end\x20game\x20session:'};if(!_0xbccfb8)return;try{const _0x5799ab=Math[_0x140690(0x22c)](_0x5ec05f[_0x140690(0x1a5)](Date[_0x140690(0x11d)](),_0x159cef)/0x3e8)||0x0,_0x3036a1=_0x5ec05f[_0x140690(0x188)](typeof _0x494b69,_0x5ec05f[_0x140690(0x1de)])?Math['floor'](_0x494b69):0x0;this['log'](_0x5ec05f['kEreF'],_0xbccfb8,_0x5ec05f[_0x140690(0x1ed)],_0x3036a1,_0x140690(0x181),_0x5799ab);const _0xd7ca2={'session_id':_0xbccfb8,'score':_0x3036a1,'duration_seconds':_0x5799ab,'extra_data':_0x5ec05f[_0x140690(0x119)](_0x1c88d3,{})};this[_0x140690(0x205)](_0x5ec05f['IshvU'],JSON[_0x140690(0x1d7)](_0xd7ca2));if(_0x340ad8&&navigator[_0x140690(0x160)]){const _0x1be7d4=new Blob([JSON[_0x140690(0x1d7)](_0xd7ca2)],{'type':_0x5ec05f[_0x140690(0x173)]});navigator[_0x140690(0x160)](config[_0x140690(0x177)]+_0x140690(0x196),_0x1be7d4),this[_0x140690(0x205)](_0x5ec05f['iNnFg']);return;}const _0x368dfe=await _0x5ec05f[_0x140690(0x26b)](fetch,config[_0x140690(0x177)]+_0x140690(0x196),{'method':_0x5ec05f[_0x140690(0x135)],'headers':{'Content-Type':_0x140690(0x26e)},'body':JSON[_0x140690(0x1d7)](_0xd7ca2)});this[_0x140690(0x205)](_0x5ec05f[_0x140690(0x22b)],_0x368dfe[_0x140690(0x175)]);const _0x40c513=await _0x368dfe[_0x140690(0x20c)]();this[_0x140690(0x205)]('Backend\x20response\x20data:',_0x40c513),_0x40c513['success']&&(this[_0x140690(0x205)](_0x5ec05f[_0x140690(0x182)],_0x40c513['session']),window[_0x140690(0x226)]&&window[_0x140690(0x226)][_0x140690(0x168)](_0x40c513[_0x140690(0x240)][_0x140690(0x1d0)]),this[_0x140690(0x159)](_0x40c513[_0x140690(0x240)][_0x140690(0x1d0)],_0x40c513['session']),_0x40c513[_0x140690(0x240)][_0x140690(0x241)]&&this[_0x140690(0x18b)](_0x40c513[_0x140690(0x240)][_0x140690(0x241)]),window[_0x140690(0x1e1)](new CustomEvent(_0x140690(0x246),{'detail':{'session':_0x40c513[_0x140690(0x240)],'xp_earned':_0x40c513[_0x140690(0x240)]['xp_earned'],'duration_seconds':_0x40c513[_0x140690(0x240)][_0x140690(0x1f8)]}})));}catch(_0x305fc6){this[_0x140690(0x205)](_0x5ec05f[_0x140690(0x265)],_0x305fc6);}}async[a0_0x1e25e4(0x159)](_0x36f444,_0x10efe5=null){const _0x50e845=a0_0x1e25e4,_0x52b21b={'xp_earned':_0x36f444,'xp_breakdown':_0x10efe5?.['xp_breakdown']||[],'extra_data':_0x10efe5?.[_0x50e845(0x158)]||_0x10efe5?.[_0x50e845(0x157)]||null};this[_0x50e845(0x178)](_0x50e845(0x141),_0x52b21b);}['showLevelUpNotification'](_0x3d2fb5){const _0x24c1d7=a0_0x1e25e4,_0x5401b4={'wgyPG':function(_0x26a5ba,_0x4954e8){return _0x26a5ba===_0x4954e8;}},{old_level:_0x366e0f,new_level:_0x45679e,title:_0xb0ba70,badge:_0x58ad81,coins_awarded:_0xf6be76,is_milestone:_0x18cf08}=_0x3d2fb5,_0x2c6528=window['AuthManager']?.[_0x24c1d7(0x19f)],_0x51d7b8=_0x5401b4[_0x24c1d7(0x1fd)](_0x2c6528?.[_0x24c1d7(0x18f)],!![]),_0x1912c3={..._0x3d2fb5,'user_data':{'is_anonymous':_0x51d7b8}};this[_0x24c1d7(0x178)]('showLevelUpModal',_0x1912c3);}[a0_0x1e25e4(0x1cb)](){const _0x264456=a0_0x1e25e4;return{...this[_0x264456(0x1ab)]};}[a0_0x1e25e4(0x205)](..._0x105cc5){}}(function detectDevTools(){const _0x41d791=a0_0x1e25e4,_0xdd8aaf={'dRpRw':function(_0x2a3074,_0x3b9917){return _0x2a3074>_0x3b9917;},'rTwKU':function(_0x424e9c,_0x1f44e5){return _0x424e9c-_0x1f44e5;},'Iygbd':function(_0x38ce7d,_0x1cbc55){return _0x38ce7d>_0x1cbc55;},'XCtLy':function(_0x5217ce,_0xe70a18){return _0x5217ce>_0xe70a18;},'cmTHM':function(_0x310250,_0x1e8049){return _0x310250-_0x1e8049;},'Sixad':function(_0x22e0c3){return _0x22e0c3();},'KGqub':function(_0x23c522){return _0x23c522();},'uALvK':function(_0x324127,_0x30b9c4){return _0x324127&&_0x30b9c4;},'HPhSM':function(_0x221082,_0x1ee80b,_0x3bcaef){return _0x221082(_0x1ee80b,_0x3bcaef);}};let _0x4e2f50=![];function _0x2b40af(){const _0x51dce4=a0_0x4247,_0x118cc8=performance['now']();debugger;return _0xdd8aaf[_0x51dce4(0x1c0)](_0xdd8aaf[_0x51dce4(0x21a)](performance[_0x51dce4(0x11d)](),_0x118cc8),0x64);}function _0x2da1a4(){const _0x5111a1=a0_0x4247;return _0xdd8aaf['Iygbd'](window[_0x5111a1(0x10e)]-window[_0x5111a1(0x142)],0xa0)||_0xdd8aaf[_0x5111a1(0x14d)](_0xdd8aaf[_0x5111a1(0x26f)](window[_0x5111a1(0x19e)],window['innerHeight']),0xa0);}_0xdd8aaf[_0x41d791(0x215)](setInterval,()=>{const _0x38891c=_0x41d791,_0x3e3a84=_0xdd8aaf[_0x38891c(0x254)](_0x2b40af)||_0xdd8aaf['KGqub'](_0x2da1a4);if(_0xdd8aaf[_0x38891c(0x221)](_0x3e3a84,!_0x4e2f50))_0x4e2f50=!![],_0xdd8aaf['Sixad'](_0x559879);else!_0x3e3a84&&(_0x4e2f50=![]);},0x3e8);function _0x559879(){const _0x24650d=_0x41d791;window[_0x24650d(0x11f)]&&(this[_0x24650d(0x178)](GAME_MESSAGE_TYPES[_0x24650d(0x23f)],{'score':0x0,'extra_data':{}}),window[_0x24650d(0x11f)][_0x24650d(0x1fe)](![],!![]),window['runtimeShellInstance'][_0x24650d(0x20d)]());}}());function a0_0x353e(){const _0x5e6fd4=['remove','origin','msExitFullscreen','fullscreenEnabled','972228QDzUJb','53749pXNriS','currentScore','success','GKUYj','handleLevelCompleted','MacIntel','undefined','CbGNV','/users/sessions/start','‚úÖ\x20Session\x20reset\x20complete','start','ios-fullscreen','Game\x20is\x20ready:','DtWCJ','number','bcgYg','application/json','cmTHM','yENrL','Fjxti','sendConfig','RuntimeShell\x20initialized\x20and\x20listening\x20for\x20messages','Game\x20session\x20ended:','ojKQQ','whmTi','HtIkZ','getItem','removeIOSExitButton','none','http://localhost:8000','rsDCf','.game-status','exitIOSFullscreen','KvjKZ','imMQc','wvnPt','isPaused','enterIOSFullscreen','protocolVersion','üìä\x20Current\x20state.score\x20before\x20update:','üéÆ\x20startGameSession()\x20called','indexOf','outerWidth','316780QrJkan','RESUME','Backend\x20response\x20status:','‚ùå\x20Failed\x20to\x20start\x20session:','QcpgU','elVgY','aZsCt','Payload\x20to\x20send\x20to\x20backend:','length','splice','kwfvC','ios-fullscreen-exit-btn','üîÑ\x20Resetting\x20session\x20for\x20restart...','test','now','pNrfs','runtimeShellInstance','ios-fullscreen-active','LOG','session_id','createElement','tWbvS','Cleanup:\x20Skipping\x20session\x20end\x20(Exit\x20button\x20pressed\x20-\x20no\x20XP\x20awarded)','‚ùå\x20Exception\x20saving\x20progress:','username','FedYd','ldyyN','TdrKC','progress','userAgent','‚ùå\x20Save\x20progress\x20failed','Error\x20in\x20event\x20handler:','shift','yhgLF','bind','‚ùå\x20No\x20API_URL','handleFullscreenRequest','qnSQc','fneMG','startGameSession','AuiYW','gameStarted','‚úÖ\x20SessionId\x20exists,\x20ending\x20session:','button','SAVE_PROGRESS','querySelector','set','needsNewSession','parse','player_level','showXPBanner','innerWidth','‚ùå\x20No\x20user\x20logged\x20in,\x20skipping\x20session\x20tracking','vbkbl','mmHNf','Level\x20','üéÆ\x20Game\x20started,\x20creating\x20session...','zBaWF','START','webkitExitFullscreen','wRWEg','sessionStartTime','XCtLy','user_id','resetSession','message','Sending\x20message\x20to\x20game:','isReady','hTsaS','msRequestFullscreen','var(--success)','CFYXN','extra_data','metadata','showCur8Notification','textContent','includes','drrNe','Response\x20status:','split','eventHandlers','sendBeacon','pause','Level\x20completed:','‚ö†Ô∏è\x20Warning:\x20Session\x20still\x20active\x20during\x20restart.\x20Ending\x20it\x20now:','yihBu','hidePauseOverlay','READY','addEventListener','updateCur8','handleLog','isGameOver','iAJhv','maxTouchPoints','saveProgress','üÜî\x20Current\x20sessionId:','_requestId','time','clear','JTQYC','MWrOa','Cannot\x20send\x20message:\x20iframe\x20contentWindow\x20not\x20available','status','Current\x20user\x20from\x20localStorage:','API_URL','sendMessage','SvgzE','game_data','Entered\x20iOS\x20fullscreen\x20mode','3|2|4|0|1','erkrU','xbBEf','Exit\x20fullscreen','target','Duration:','rZBSY','isValidMessage','level','data','contentWindow','gameOver','TtWBM','createIOSExitButton','Unknown\x20message\x20type:','showLevelUpNotification','Game\x20Paused','endGameSessionById','boundMessageHandler','is_anonymous','OIcbv','metamask-provider','BmFJc','4xUKsVB','progress_data','processMessageQueue','/users/sessions/end','kills','njPES','handleMessage','timeout','removeEventListener','exitFullscreen','resume','outerHeight','currentUser','iYxtt','Processing\x20message\x20queue:','isLoggedIn','4627264qkfzoQ','Game\x20session\x20ended\x20via\x20beacon','HIgbF','showGameOverOverlay','mZhik','msFullscreenElement','string','isValidOrigin','state','XvQTv','SlUYY','PIbab','Ending\x20session\x20-\x20Session\x20ID:','Received\x20message:','3394560pPLHml','oRycg','null','push','Ohmze','error','FbSoj','‚úÖ\x20Game\x20session\x20started:','nVVdM','jcCFy','display','gWJZT','pIYgB','ZxIfl','metamask-inpage','dRpRw','var(--error)','var(--warning)','add','LEVEL_COMPLETED','NwWap','tgiMx','type','hidden','className','Entering\x20native\x20fullscreen','getState','Playing','yrWOc','classList','‚ùå\x20Config\x20or\x20API_URL\x20not\x20available','xp_earned','aria-label','üéÆ\x20Game\x20restarted\x20detected\x20(score=0\x20after\x20game\x20over)','TSnTu','handleScoreUpdate','contains','scoreUpdate','stringify','fvzse','levelCompleted','postMessage','init','mnSpr','POST','RsfzY','object','allowedOrigins','dispatchEvent','handleLoadProgress','MSStream','REQUEST_FULLSCREEN','preventDefault','üéÆ\x20Starting\x20new\x20session\x20for\x20restart...','survival_time','ulQhJ','\x20Complete!','lNvhF','fullscreenElement','PtdKk','ZradQ','cpeyl','‚è∞\x20Session\x20start\x20time:','sessionId','Exiting\x20game\x20-\x20no\x20XP\x20will\x20be\x20awarded','NOtMU','platform','webkitRequestFullscreen','ldXnV','parentElement','gameId','duration_seconds','TtIKS','messageQueue','Resuming\x20game','location','wgyPG','cleanup','forEach','webkitFullscreenElement','GAME_STARTED','Exited\x20iOS\x20fullscreen\x20mode','color','NFzMr','log','üì°\x20Sending\x20session\x20start\x20request\x20to\x20backend...','Response\x20data:','1980223MSaqKZ','overflow','RuntimeShell\x20initialized\x20for\x20game:','CONFIG','json','exit','get','endGameSession','xoLfo','FAHwI','PAUSE','‚úÖ\x20No\x20active\x20session\x20(already\x20ended\x20by\x20Game\x20Over)','webkitFullscreenEnabled','HPhSM','BmAkl','emit','XHIwq','config','rTwKU','sRydZ','esifN','handleSaveProgress','showLevelCompleteOverlay','Starting\x20game','payload','uALvK','KmFSf','requestFullScreen','uEBNF','TryXw','AuthManager','YUTTl','bBUfz','has','score','UGiTC','floor','enemies_killed','requestFullscreen','BzLbQ','4ebSYZL','qjCyh','CmjnC','‚ùå\x20Exception\x20in\x20startGameSession:','yfDIK','uaNwb','xwrhY','‚è∏Ô∏è\x20Game\x20ready,\x20waiting\x20for\x20game\x20start\x20to\x20create\x20session...','SCORE_UPDATE','getElementById','enableIOSFullscreenFallback','ukvst','iframe','RESET_SESSION','msFullscreenEnabled','GAME_OVER','session','level_up','wHunm','QuEKA','cyYIX','account_name','gameSessionEnded','updateScoreDisplay','showPauseOverlay','/users/game-progress/','style','handleReady','WGfbI','body','lpzhv','niMYk','Game\x20Over\x20-\x20Final\x20Score:\x20','progressLoaded','.navbar','sendProgressResponse','Sixad','PUT','Exiting\x20native\x20fullscreen','1616328wAZFor','off'];a0_0x353e=function(){return _0x5e6fd4;};return a0_0x353e();}export{GAME_MESSAGE_TYPES,PLATFORM_MESSAGE_TYPES,PROTOCOL_VERSION};