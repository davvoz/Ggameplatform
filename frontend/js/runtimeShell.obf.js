const a0_0x28ea34=a0_0x9aaf;(function(_0x301493,_0x99e2e1){const _0x3618da=a0_0x9aaf,_0x3ae405=_0x301493();while(!![]){try{const _0x3d0ce5=-parseInt(_0x3618da(0x22d))/0x1+-parseInt(_0x3618da(0x1eb))/0x2+parseInt(_0x3618da(0x16a))/0x3*(-parseInt(_0x3618da(0x167))/0x4)+parseInt(_0x3618da(0x1b8))/0x5*(-parseInt(_0x3618da(0xd6))/0x6)+-parseInt(_0x3618da(0x1e4))/0x7*(parseInt(_0x3618da(0x1ca))/0x8)+parseInt(_0x3618da(0x229))/0x9+parseInt(_0x3618da(0x18d))/0xa;if(_0x3d0ce5===_0x99e2e1)break;else _0x3ae405['push'](_0x3ae405['shift']());}catch(_0x174351){_0x3ae405['push'](_0x3ae405['shift']());}}}(a0_0x421e,0xa93f8));function a0_0x9aaf(_0x29d6b5,_0x256609){_0x29d6b5=_0x29d6b5-0xd3;const _0x421e8f=a0_0x421e();let _0x9aafa2=_0x421e8f[_0x29d6b5];return _0x9aafa2;}function a0_0x421e(){const _0x53f9d9=['username','49TeKrWh','showGameOverOverlay','Xdolv','parentElement','bind','requestFullScreen','exit','769980lsuLrx','GAME_OVER','cPlYr','ðŸ”„\x20Resetting\x20session\x20for\x20restart...','0|4|1|2|3','isLoggedIn','PADXx','VwrtA','Score:','msRequestFullscreen','outerWidth','MlwIc','time','PdzKY','isGameOver','maDdf','maxTouchPoints','Entered\x20iOS\x20fullscreen\x20mode','outerHeight','isValidOrigin','QJncr','includes','Response\x20data:','âŒ\x20Exception\x20in\x20startGameSession:','button','level','Playing','showLevelCompleteOverlay','stringify','game_data','XvIkJ','none','LEVEL_COMPLETED','vwlFp','location','requestFullscreen','MMjoM','Payload\x20to\x20send\x20to\x20backend:','ENV','iframe','Response\x20status:','sessionStartTime','QMWfk','extra_data','push','messageQueue','TrEKc','3|4|2|1|0','isValidMessage','init','removeIOSExitButton','gameOver','POST','player_level','handleGameOver','ðŸŽ®\x20Game\x20started,\x20creating\x20session...','RuntimeShell\x20initialized\x20and\x20listening\x20for\x20messages','VPnbR','webkitRequestFullscreen','qfgcG','isPaused','config','10930968dSNMTE','RuntimeShell\x20cleaned\x20up','style','Backend\x20response\x20status:','409359RYlRPg','string','ðŸŽ¯\x20GameOver\x20payload\x20received:','RSRkX','emit','gBkNj','webkitExitFullscreen','24AObEhR','protocolVersion','Rejected\x20invalid\x20message\x20format:','EXIT','sendConfig','NjSCI','GAME_STARTED','ssmLh','querySelector','ZPozb','ready','PAUSE','exitIOSFullscreen','score','apLxH','.navbar','â¸ï¸\x20Game\x20ready,\x20waiting\x20for\x20game\x20start\x20to\x20create\x20session...','xp_breakdown','QHHMT','startGameSession','DzFpz','ðŸ“Š\x20Extra\x20data:','start','msExitFullscreen','RESET_SESSION','YpdvQ','error','runtimeShellInstance','mdJnN','ios-fullscreen-exit-btn','Error\x20in\x20event\x20handler:','mMlBx','wsmaS','mjbsC','preventDefault','âš ï¸\x20Warning:\x20Session\x20still\x20active\x20during\x20restart.\x20Ending\x20it\x20now:','enterIOSFullscreen','isReady','MwecL','var(--success)','metamask-inpage','uExrr','rXrFN','Cleanup:\x20Skipping\x20session\x20end\x20(Exit\x20button\x20pressed\x20-\x20no\x20XP\x20awarded)','âŒ\x20Failed\x20to\x20start\x20session:','classList','hLngX','session','CuWMp','API_URL','splice','Rejected\x20message\x20from\x20invalid\x20origin:','Exiting\x20game\x20-\x20no\x20XP\x20will\x20be\x20awarded','iahJg','ghSnm','overflow','hrIMh','handleReady','sendBeacon','status','Processing\x20message\x20queue:','YKOuZ','aaCJe','timeout','\x20Complete!','sessionId','getItem','wYWzz','textContent','EDsam','1.0.0','showLevelUpModal','scrollTo','currentUser','aria-label','yCXSg','getUser','CONFIG','AuthManager','floor','addEventListener','RuntimeShell\x20initialized\x20for\x20game:','umRLU','forEach','Current\x20user\x20from\x20localStorage:','removeEventListener','indexOf','LOG','dispatchEvent','user_id','1|4|0|2|3|5','type','xJYKf','undefined','.game-status','data','endGameSessionById','load','session_id','ðŸŽ®\x20Game\x20restarted\x20detected\x20(score=0\x20after\x20game\x20over)','now','REqUq','split','âŒ\x20No\x20user\x20logged\x20in,\x20skipping\x20session\x20tracking','Exiting\x20native\x20fullscreen','resetSession','LTjYi','innerHTML','ðŸ’€\x20Game\x20Over!\x20Final\x20score:','test','exitFullscreen','remove','4|2|3|0|1','MSStream','Level\x20completed:','Ending\x20session\x20-\x20Session\x20ID:','olBPo','then','BHibO','is_anonymous','LtoIn','add','exvbr','needsNewSession','handleLevelCompleted','hidePauseOverlay','json','levelCompleted','click','parse','zOBkP','Kcksw','userAgent','RESUME','showCur8Notification','set','innerHeight','hABbH','metadata','updateCur8','/users/sessions/start','/users/sessions/end','JjFtJ','Nqwqt','var(--warning)','43556XeDVHZ','WOwYn','diOhN','111LZxIoC','className','mxxUA','Mlfqu','aeyyC','handleFullscreenRequest','postMessage','level_up','puTov','HeYCA','name','has','wrbHp','fCoQd','payload','KjxGC','âœ…\x20SessionId\x20exists,\x20ending\x20session:','Exit\x20fullscreen','hXvdr','Unknown\x20message\x20type:','oCYhF','eventHandlers','origin','enableIOSFullscreenFallback','display','getElementById','Izsmy','contains','âŒ\x20Config\x20or\x20API_URL\x20not\x20available','xp_earned','dmZtA','Sending\x20message\x20to\x20game:','DuuYz','showPauseOverlay','endGameSession','23135350SFwUqw','log','survival_time','Game\x20is\x20ready:','enemies_killed','qhDOC','yiayH','length','stopPropagation','allowedOrigins','createIOSExitButton','off','nZsSo','Qdmua','igmCC','QjDTD','iKELl','sendMessage','resume','nfrQh','fullscreenEnabled','GoRYn','showLevelUpNotification','state','eSQnY','contentWindow','viist','Exited\x20iOS\x20fullscreen\x20mode','Entering\x20native\x20fullscreen','SCORE_UPDATE','Game\x20Paused','handleScoreUpdate','Failed\x20to\x20end\x20game\x20session:','rWPUU','CTxtY','YdCrp','dxgNq','btlhs','.game-player','getState','msHIt','Pausing\x20game','pjVII','1120005oztovq','âœ…\x20Game\x20session\x20started:','hPrKA','âš ï¸\x20No\x20sessionId\x20-\x20game\x20ended\x20before\x20session\x20was\x20created','kills','ðŸŽ®\x20Starting\x20new\x20session\x20for\x20restart...','object','gameId','null','Game\x20not\x20ready,\x20queuing\x20message:','GNGZJ','color','tzwlZ','pause','gNRXV','get','mOcdI','XqqfF','847544YXpxwg','message','ðŸ“¡\x20Sending\x20session\x20start\x20request\x20to\x20backend...','setAttribute','currentScore','START','DLgVq','success','number','handleMessage','application/json','processMessageQueue','rTlQb','scoreUpdate','body','gameStarted','tkyHw','ios-fullscreen-active','ios-fullscreen','var(--error)','cleanup','boundMessageHandler','kiLqM','IBHAS','msFullscreenElement'];a0_0x421e=function(){return _0x53f9d9;};return a0_0x421e();}import{config}from'./config.js';const PROTOCOL_VERSION=a0_0x28ea34(0x11c),GAME_MESSAGE_TYPES={'SCORE_UPDATE':a0_0x28ea34(0x1d7),'GAME_OVER':a0_0x28ea34(0x21e),'LEVEL_COMPLETED':a0_0x28ea34(0x155),'REQUEST_FULLSCREEN':a0_0x28ea34(0x1e9),'LOG':a0_0x28ea34(0x18e),'READY':a0_0x28ea34(0xe0),'RESET_SESSION':a0_0x28ea34(0x13f),'GAME_STARTED':a0_0x28ea34(0x1d9)},PLATFORM_MESSAGE_TYPES={'START':'start','PAUSE':a0_0x28ea34(0x1c5),'RESUME':a0_0x28ea34(0x19f),'EXIT':a0_0x28ea34(0x1ea),'CONFIG':a0_0x28ea34(0x228)};export default class RuntimeShell{constructor(_0x2c4add,_0x4a720a,_0x3b03b4={}){const _0x26ea7a=a0_0x28ea34;this[_0x26ea7a(0x212)]=_0x2c4add,this['gameId']=_0x4a720a;const _0xc36518=window[_0x26ea7a(0x211)]?.[_0x26ea7a(0x107)]||window[_0x26ea7a(0x20d)][_0x26ea7a(0x180)],_0x7998c2=[window[_0x26ea7a(0x20d)]['origin'],_0xc36518,'http://localhost:8000','http://localhost:3000'];this[_0x26ea7a(0x228)]={'allowedOrigins':_0x3b03b4[_0x26ea7a(0x196)]||_0x7998c2,'debug':_0x3b03b4['debug']||![],'timeout':_0x3b03b4[_0x26ea7a(0x115)]||0x7530},this['sessionId']=null,this[_0x26ea7a(0x214)]=null,this[_0x26ea7a(0x1ce)]=0x0,this[_0x26ea7a(0x1a4)]={'isReady':![],'isPaused':![],'score':0x0,'level':0x1,'isGameOver':![]},this['needsNewSession']=!![],this[_0x26ea7a(0x17f)]=new Map(),this[_0x26ea7a(0x218)]=[],this['boundMessageHandler']=this[_0x26ea7a(0x1d3)][_0x26ea7a(0x1e8)](this),this[_0x26ea7a(0x18e)](_0x26ea7a(0x127),_0x4a720a);}[a0_0x28ea34(0x21c)](){const _0x57cadd=a0_0x28ea34,_0xa6f4ca={'XqqfF':'Iframe\x20loaded,\x20waiting\x20for\x20game\x20ready\x20signal...','Mlfqu':_0x57cadd(0x1cb),'MlwIc':_0x57cadd(0x137),'iFhmg':_0x57cadd(0x223)};window[_0x57cadd(0x126)](_0xa6f4ca[_0x57cadd(0x16d)],this[_0x57cadd(0x1df)]),this[_0x57cadd(0x212)][_0x57cadd(0x126)](_0xa6f4ca[_0x57cadd(0x1f6)],()=>{const _0x26bfcd=_0x57cadd;this[_0x26bfcd(0x18e)](_0xa6f4ca[_0x26bfcd(0x1c9)]),setTimeout(()=>{const _0x3bd5d0=_0x26bfcd;this[_0x3bd5d0(0xda)]();},0x1f4);}),this[_0x57cadd(0x18e)](_0xa6f4ca['iFhmg']);}[a0_0x28ea34(0x1d3)](_0x49e13a){const _0x51ed16=a0_0x28ea34,_0x3c46f9={'iKELl':'âœ…\x20Session\x20reset\x20complete','DLgVq':_0x51ed16(0x1be),'qhDOC':function(_0x217730,_0xdd7081){return _0x217730===_0xdd7081;},'ldyNK':_0x51ed16(0xfe),'VCnHM':function(_0x2c3ac4,_0x2de5df){return _0x2c3ac4===_0x2de5df;},'PADXx':function(_0xa8bf1a,_0x365c02){return _0xa8bf1a===_0x365c02;},'wrbHp':'metamask-provider','hXvdr':_0x51ed16(0x109),'eOYum':_0x51ed16(0xd8),'maDdf':'Received\x20message:','VwrtA':_0x51ed16(0x222),'olBPo':_0x51ed16(0x17d)},_0x30dc39=_0x49e13a[_0x51ed16(0x135)];if(_0x30dc39&&typeof _0x30dc39===_0x3c46f9[_0x51ed16(0x1d0)]&&(_0x3c46f9[_0x51ed16(0x192)](_0x30dc39['target'],_0x3c46f9['ldyNK'])||_0x3c46f9['VCnHM'](_0x30dc39['target'],'metamask-provider')||_0x3c46f9[_0x51ed16(0x1f1)](_0x30dc39[_0x51ed16(0x174)],_0x3c46f9[_0x51ed16(0x176)])))return;if(!this[_0x51ed16(0x1fe)](_0x49e13a[_0x51ed16(0x180)])){this['log'](_0x3c46f9[_0x51ed16(0x17c)],_0x49e13a[_0x51ed16(0x180)]);return;}if(!this[_0x51ed16(0x21b)](_0x30dc39)){this[_0x51ed16(0x18e)](_0x3c46f9['eOYum'],_0x30dc39);return;}this[_0x51ed16(0x18e)](_0x3c46f9[_0x51ed16(0x1fa)],_0x30dc39);switch(_0x30dc39[_0x51ed16(0x131)]){case GAME_MESSAGE_TYPES['READY']:this[_0x51ed16(0x10f)](_0x30dc39['payload']);break;case GAME_MESSAGE_TYPES[_0x51ed16(0x1aa)]:this[_0x51ed16(0x1ac)](_0x30dc39[_0x51ed16(0x178)]);break;case GAME_MESSAGE_TYPES[_0x51ed16(0x1ec)]:this[_0x51ed16(0x221)](_0x30dc39[_0x51ed16(0x178)]);break;case GAME_MESSAGE_TYPES[_0x51ed16(0x20b)]:this[_0x51ed16(0x152)](_0x30dc39[_0x51ed16(0x178)]);break;case GAME_MESSAGE_TYPES['REQUEST_FULLSCREEN']:this[_0x51ed16(0x16f)]();break;case GAME_MESSAGE_TYPES[_0x51ed16(0x12d)]:break;case GAME_MESSAGE_TYPES[_0x51ed16(0xee)]:this['resetSession']()[_0x51ed16(0x14b)](()=>{const _0x249f88=_0x51ed16;this[_0x249f88(0x18e)](_0x3c46f9[_0x249f88(0x19d)]);});break;case GAME_MESSAGE_TYPES[_0x51ed16(0xdc)]:this['log'](_0x3c46f9[_0x51ed16(0x1f2)]);if(!this['sessionId'])this['startGameSession']();else{}break;default:this[_0x51ed16(0x18e)](_0x3c46f9[_0x51ed16(0x14a)],_0x30dc39['type']);}this['emit'](_0x30dc39[_0x51ed16(0x131)],_0x30dc39['payload']);}[a0_0x28ea34(0x1fe)](_0x345567){const _0xd7bd5a=a0_0x28ea34;if(this[_0xd7bd5a(0x228)][_0xd7bd5a(0x196)][_0xd7bd5a(0x200)]('*'))return!![];const _0x541274=this['config'][_0xd7bd5a(0x196)][_0xd7bd5a(0x200)](_0x345567);if(!_0x541274){}return _0x541274;}[a0_0x28ea34(0x21b)](_0x26aa0f){const _0x1b82c1=a0_0x28ea34,_0x23d7a2={'msHIt':function(_0x264c17,_0x57bae0){return _0x264c17===_0x57bae0;},'QJncr':'object','NjSCI':_0x1b82c1(0x22e)};return _0x26aa0f&&_0x23d7a2[_0x1b82c1(0x1b5)](typeof _0x26aa0f,_0x23d7a2[_0x1b82c1(0x1ff)])&&_0x23d7a2[_0x1b82c1(0x1b5)](typeof _0x26aa0f[_0x1b82c1(0x131)],_0x23d7a2[_0x1b82c1(0xdb)])&&_0x26aa0f[_0x1b82c1(0xd7)]===PROTOCOL_VERSION;}[a0_0x28ea34(0x10f)](_0x347223){const _0x3b226d=a0_0x28ea34,_0x3084f9={'apLxH':_0x3b226d(0x190),'RSRkX':_0x3b226d(0xe6)};this[_0x3b226d(0x1a4)]['isReady']=!![],this[_0x3b226d(0x18e)](_0x3084f9[_0x3b226d(0xe4)],_0x347223),this['log'](_0x3084f9[_0x3b226d(0x230)]),this[_0x3b226d(0x1d5)](),this[_0x3b226d(0xec)]();}[a0_0x28ea34(0x1ac)](_0x5309d1){const _0x5aa526=a0_0x28ea34,_0x10649b={'diOhN':function(_0x1ec25f,_0x23196f){return _0x1ec25f===_0x23196f;},'LTjYi':_0x5aa526(0x1d2),'xJYKf':_0x5aa526(0x139)};if(_0x5309d1&&_0x10649b[_0x5aa526(0x169)](typeof _0x5309d1['score'],_0x10649b[_0x5aa526(0x140)])){const _0x267211=this['state'][_0x5aa526(0x1f9)]&&_0x5309d1[_0x5aa526(0xe3)]===0x0;_0x267211&&(this['log'](_0x10649b[_0x5aa526(0x132)]),this[_0x5aa526(0x151)]&&!this[_0x5aa526(0x117)]?(this[_0x5aa526(0x18e)]('âœ…\x20Creating\x20new\x20session\x20for\x20restart...'),this[_0x5aa526(0x151)]=![],this[_0x5aa526(0x1a4)][_0x5aa526(0x1f9)]=![],this[_0x5aa526(0xe9)]()):this[_0x5aa526(0x1a4)][_0x5aa526(0x1f9)]=![]),this[_0x5aa526(0x1a4)]['score']=_0x5309d1[_0x5aa526(0xe3)],this['updateScoreDisplay'](_0x5309d1[_0x5aa526(0xe3)]);}}[a0_0x28ea34(0x221)](_0x321ae2){const _0xf3cc49=a0_0x28ea34,_0x450b18={'wsmaS':_0xf3cc49(0x22f),'Izsmy':'ðŸ†”\x20Current\x20sessionId:','EDsam':_0xf3cc49(0x130),'ZPozb':function(_0x4fa965,_0xa8d11f){return _0x4fa965!==_0xa8d11f;},'uExrr':function(_0x45213b,_0x511e34){return _0x45213b!==_0x511e34;},'qfgcG':function(_0x2779b4,_0x55db7d){return _0x2779b4!==_0x55db7d;},'Nqwqt':function(_0x4fff08,_0x200098){return _0x4fff08!==_0x200098;},'mxxUA':function(_0x4d3d23,_0x2ce634){return _0x4d3d23!==_0x2ce634;},'SsiRr':_0xf3cc49(0x142)};this[_0xf3cc49(0x18e)](_0x450b18[_0xf3cc49(0xf6)],_0x321ae2),this[_0xf3cc49(0x18e)]('ðŸ“Š\x20Current\x20state.score\x20before\x20update:',this[_0xf3cc49(0x1a4)][_0xf3cc49(0xe3)]),this['log'](_0x450b18[_0xf3cc49(0x184)],this[_0xf3cc49(0x117)]),this[_0xf3cc49(0x18e)]('â°\x20Session\x20start\x20time:',this[_0xf3cc49(0x214)]);const _0x438b07=_0x321ae2?.[_0xf3cc49(0xe3)]??this['state'][_0xf3cc49(0xe3)]??0x0;this[_0xf3cc49(0x1a4)][_0xf3cc49(0xe3)]=_0x438b07;const _0xad4d79=_0x321ae2?.[_0xf3cc49(0x216)]||_0x321ae2?.[_0xf3cc49(0x208)]||{};if(_0x321ae2){const _0x429a13=_0x450b18[_0xf3cc49(0x11b)]['split']('|');let _0xbbc4b1=0x0;while(!![]){switch(_0x429a13[_0xbbc4b1++]){case'0':if(_0x450b18[_0xf3cc49(0xdf)](_0x321ae2[_0xf3cc49(0x204)],undefined)&&!_0xad4d79[_0xf3cc49(0x204)])_0xad4d79[_0xf3cc49(0x204)]=_0x321ae2[_0xf3cc49(0x204)];continue;case'1':if(_0x450b18[_0xf3cc49(0xff)](_0x321ae2[_0xf3cc49(0x1bc)],undefined)&&!_0xad4d79[_0xf3cc49(0x1bc)])_0xad4d79[_0xf3cc49(0x1bc)]=_0x321ae2[_0xf3cc49(0x1bc)];continue;case'2':if(_0x450b18[_0xf3cc49(0x226)](_0x321ae2[_0xf3cc49(0x18f)],undefined)&&!_0xad4d79['survival_time'])_0xad4d79[_0xf3cc49(0x18f)]=_0x321ae2['survival_time'];continue;case'3':if(_0x450b18[_0xf3cc49(0x165)](_0x321ae2[_0xf3cc49(0x191)],undefined)&&!_0xad4d79[_0xf3cc49(0x191)])_0xad4d79[_0xf3cc49(0x191)]=_0x321ae2['enemies_killed'];continue;case'4':if(_0x450b18[_0xf3cc49(0x16c)](_0x321ae2['time'],undefined)&&!_0xad4d79[_0xf3cc49(0x1f7)])_0xad4d79[_0xf3cc49(0x1f7)]=_0x321ae2[_0xf3cc49(0x1f7)];continue;case'5':if(_0x321ae2[_0xf3cc49(0x220)]!==undefined&&!_0xad4d79['player_level'])_0xad4d79[_0xf3cc49(0x220)]=_0x321ae2[_0xf3cc49(0x220)];continue;}break;}}this[_0xf3cc49(0x18e)](_0x450b18['SsiRr'],this['state']['score']),this[_0xf3cc49(0x18e)](_0xf3cc49(0xeb),_0xad4d79),this[_0xf3cc49(0x1e5)](this[_0xf3cc49(0x1a4)]['score']);if(this[_0xf3cc49(0x117)]){this[_0xf3cc49(0x18e)](_0xf3cc49(0x17a),this['sessionId']);const _0x224135=this['sessionId'],_0x4a2ff9=this[_0xf3cc49(0x214)];this[_0xf3cc49(0x117)]=null,this[_0xf3cc49(0x214)]=null,this[_0xf3cc49(0x136)](_0x224135,this[_0xf3cc49(0x1a4)]['score'],_0x4a2ff9,![],_0xad4d79),this[_0xf3cc49(0x1a4)]['isGameOver']=!![],this[_0xf3cc49(0x151)]=!![];}else this[_0xf3cc49(0x18e)](_0xf3cc49(0x1bb)),this[_0xf3cc49(0x1a4)][_0xf3cc49(0x1f9)]=!![],this['needsNewSession']=!![];}[a0_0x28ea34(0x152)](_0x4883fa){const _0x6f2654=a0_0x28ea34,_0x3e1f8a={'vwlFp':function(_0xb100c2,_0x1af33e){return _0xb100c2===_0x1af33e;},'wYWzz':_0x6f2654(0x1d2),'SrQze':_0x6f2654(0x148)};_0x4883fa&&_0x3e1f8a[_0x6f2654(0x20c)](typeof _0x4883fa['level'],_0x3e1f8a[_0x6f2654(0x119)])&&(this[_0x6f2654(0x1a4)][_0x6f2654(0x204)]=_0x4883fa[_0x6f2654(0x204)],this[_0x6f2654(0x18e)](_0x3e1f8a['SrQze'],_0x4883fa[_0x6f2654(0x204)]),this[_0x6f2654(0x206)](_0x4883fa[_0x6f2654(0x204)]));}[a0_0x28ea34(0x16f)](){const _0x4a652f=a0_0x28ea34,_0x21c393={'viist':function(_0x5504e8,_0x1c4dfd){return _0x5504e8||_0x1c4dfd;},'QMWfk':function(_0x2eb5c0,_0x1d021a){return _0x2eb5c0===_0x1d021a;},'Vasjr':'MacIntel','kiLqM':function(_0x4f15df,_0x632ecf){return _0x4f15df>_0x632ecf;},'hPrKA':function(_0x52e409,_0x3cfa44){return _0x52e409||_0x3cfa44;},'QjDTD':function(_0x2f65c7,_0x41d2ec){return _0x2f65c7&&_0x41d2ec;},'fCoQd':_0x4a652f(0x13e),'igmCC':_0x4a652f(0x1a9)},_0x3fe654=this[_0x4a652f(0x212)][_0x4a652f(0x1e7)],_0x330f0a=document['querySelector'](_0x4a652f(0x1b3)),_0x469ce4=_0x21c393[_0x4a652f(0x1a7)](_0x330f0a,_0x3fe654),_0x2ff600=/iPad|iPhone|iPod/[_0x4a652f(0x143)](navigator[_0x4a652f(0x15a)])&&!window[_0x4a652f(0x147)],_0x870124=_0x21c393[_0x4a652f(0x215)](navigator['platform'],_0x21c393['Vasjr'])&&_0x21c393[_0x4a652f(0x1e0)](navigator[_0x4a652f(0x1fb)],0x1),_0x518203=/^((?!chrome|android).)*safari/i[_0x4a652f(0x143)](navigator[_0x4a652f(0x15a)]),_0x3b9360=document[_0x4a652f(0x1a1)]||document['webkitFullscreenEnabled']||document['msFullscreenEnabled'],_0x90d00a=document['fullscreenElement']||document['webkitFullscreenElement']||document[_0x4a652f(0x1e2)],_0x6461d1=_0x469ce4['classList'][_0x4a652f(0x185)](_0x4a652f(0x1dc));if(_0x21c393[_0x4a652f(0x1ba)](_0x2ff600,_0x870124)&&!_0x3b9360)this['enableIOSFullscreenFallback'](_0x3fe654,_0x330f0a);else{if(_0x21c393[_0x4a652f(0x19c)](_0x518203,!_0x3b9360))this[_0x4a652f(0x181)](_0x3fe654,_0x330f0a);else{if(_0x90d00a){this[_0x4a652f(0x18e)](_0x21c393[_0x4a652f(0x177)]);if(document[_0x4a652f(0x144)])document[_0x4a652f(0x144)]();else{if(document[_0x4a652f(0xd5)])document[_0x4a652f(0xd5)]();else document['msExitFullscreen']&&document[_0x4a652f(0xed)]();}}else{if(_0x6461d1)this[_0x4a652f(0xe2)](_0x469ce4);else{this[_0x4a652f(0x18e)](_0x21c393[_0x4a652f(0x19b)]);if(_0x469ce4[_0x4a652f(0x20e)])_0x469ce4['requestFullscreen']();else{if(_0x469ce4[_0x4a652f(0x225)])_0x469ce4['webkitRequestFullscreen']();else _0x469ce4[_0x4a652f(0x1f4)]?_0x469ce4['msRequestFullscreen']():this[_0x4a652f(0x181)](_0x3fe654,_0x330f0a);}}}}}}[a0_0x28ea34(0x181)](_0x219714,_0x204d2c){const _0x35123a=a0_0x28ea34,_0x3d1df0={'ghSnm':function(_0x6dfb1f,_0xd96ba1){return _0x6dfb1f||_0xd96ba1;},'rTlQb':_0x35123a(0x1dc)},_0x5acc0e=_0x3d1df0[_0x35123a(0x10c)](_0x204d2c,_0x219714),_0x715848=_0x5acc0e[_0x35123a(0x103)][_0x35123a(0x185)](_0x3d1df0[_0x35123a(0x1d6)]);_0x715848?this[_0x35123a(0xe2)](_0x5acc0e):this['enterIOSFullscreen'](_0x5acc0e);}[a0_0x28ea34(0xfa)](_0x251b6c){const _0x46b763=a0_0x28ea34,_0x3d392a={'dxgNq':'hidden','FUUbD':_0x46b763(0xe5),'gBkNj':_0x46b763(0x20a),'JjFtJ':function(_0x48e914,_0x1db3c7,_0x308b84){return _0x48e914(_0x1db3c7,_0x308b84);}};_0x251b6c[_0x46b763(0x103)][_0x46b763(0x14f)](_0x46b763(0x1dc)),document[_0x46b763(0x1d8)][_0x46b763(0x103)][_0x46b763(0x14f)](_0x46b763(0x1db)),document['body'][_0x46b763(0x22b)][_0x46b763(0x10d)]=_0x3d392a[_0x46b763(0x1b1)];const _0x4a7ee5=document[_0x46b763(0xde)](_0x3d392a['FUUbD']);_0x4a7ee5&&(_0x4a7ee5[_0x46b763(0x22b)][_0x46b763(0x182)]=_0x3d392a[_0x46b763(0xd4)]),this['createIOSExitButton'](_0x251b6c),_0x3d392a[_0x46b763(0x164)](setTimeout,()=>{const _0x4d9885=_0x46b763;window[_0x4d9885(0x11e)](0x0,0x1);},0x64),this[_0x46b763(0x18e)](_0x46b763(0x1fc));}[a0_0x28ea34(0xe2)](_0x274de0){const _0x42abc6=a0_0x28ea34,_0x8ecd7c={'aeyyC':_0x42abc6(0x1db),'hABbH':'.navbar','mjbsC':_0x42abc6(0x1a8)};_0x274de0[_0x42abc6(0x103)]['remove'](_0x42abc6(0x1dc)),document[_0x42abc6(0x1d8)][_0x42abc6(0x103)][_0x42abc6(0x145)](_0x8ecd7c[_0x42abc6(0x16e)]),document[_0x42abc6(0x1d8)]['style']['overflow']='';const _0x2612b6=document[_0x42abc6(0xde)](_0x8ecd7c[_0x42abc6(0x15f)]);_0x2612b6&&(_0x2612b6[_0x42abc6(0x22b)][_0x42abc6(0x182)]=''),this[_0x42abc6(0x21d)](),this[_0x42abc6(0x18e)](_0x8ecd7c[_0x42abc6(0xf7)]);}[a0_0x28ea34(0x197)](_0x517f03){const _0x2e228f=a0_0x28ea34,_0x1e29e5={'GLcGg':_0x2e228f(0xf3),'ssmLh':_0x2e228f(0x120)};this[_0x2e228f(0x21d)]();const _0x359c0=document['createElement'](_0x2e228f(0x203));_0x359c0['id']=_0x1e29e5['GLcGg'],_0x359c0[_0x2e228f(0x16b)]=_0x2e228f(0xf3),_0x359c0[_0x2e228f(0x141)]='âœ•',_0x359c0[_0x2e228f(0x1cd)](_0x1e29e5[_0x2e228f(0xdd)],_0x2e228f(0x17b)),_0x359c0[_0x2e228f(0x126)](_0x2e228f(0x156),_0x32f4ab=>{const _0x2be74e=_0x2e228f;_0x32f4ab[_0x2be74e(0xf8)](),_0x32f4ab[_0x2be74e(0x195)](),this['exitIOSFullscreen'](_0x517f03);}),document[_0x2e228f(0x1d8)]['appendChild'](_0x359c0);}[a0_0x28ea34(0x21d)](){const _0x1ca294=a0_0x28ea34,_0x336852={'oKSMk':_0x1ca294(0xf3)},_0x406da9=document[_0x1ca294(0x183)](_0x336852['oKSMk']);_0x406da9&&_0x406da9['remove']();}['handleLog'](_0x18d34e){const _0xc725ca=a0_0x28ea34;if(_0x18d34e&&_0x18d34e[_0xc725ca(0x1cb)]){}}[a0_0x28ea34(0x19e)](_0x3d97c3,_0x4a1d53={}){const _0x386aa0=a0_0x28ea34,_0x4b512f={'zbHcx':'Cannot\x20send\x20message:\x20iframe\x20contentWindow\x20not\x20available','Qdmua':_0x386aa0(0x1c1),'WOwYn':_0x386aa0(0x189)};if(!this[_0x386aa0(0x212)][_0x386aa0(0x1a6)]){this['log'](_0x4b512f['zbHcx']);return;}const _0x546ffc={'type':_0x3d97c3,'payload':_0x4a1d53,'timestamp':Date['now'](),'protocolVersion':PROTOCOL_VERSION,'gameId':this[_0x386aa0(0x1bf)]};if(!this[_0x386aa0(0x1a4)][_0x386aa0(0xfb)]&&_0x3d97c3!==PLATFORM_MESSAGE_TYPES[_0x386aa0(0x123)]){this[_0x386aa0(0x18e)](_0x4b512f[_0x386aa0(0x19a)],_0x3d97c3),this['messageQueue'][_0x386aa0(0x217)](_0x546ffc);return;}this[_0x386aa0(0x18e)](_0x4b512f[_0x386aa0(0x168)],_0x546ffc),this['iframe'][_0x386aa0(0x1a6)]['postMessage'](_0x546ffc,'*');}[a0_0x28ea34(0x1d5)](){const _0x4382cc=a0_0x28ea34,_0x7c59b3={'afPbK':_0x4382cc(0x112)};this[_0x4382cc(0x18e)](_0x7c59b3['afPbK'],this[_0x4382cc(0x218)][_0x4382cc(0x194)],'messages');while(this[_0x4382cc(0x218)][_0x4382cc(0x194)]>0x0){const _0x37c996=this['messageQueue']['shift']();this['iframe'][_0x4382cc(0x1a6)][_0x4382cc(0x170)](_0x37c996,'*');}}[a0_0x28ea34(0xda)](){const _0x243a8f=a0_0x28ea34;let _0x489ec7=null,_0x47edc8=null;if(window[_0x243a8f(0x124)]&&window[_0x243a8f(0x124)][_0x243a8f(0x1f0)]()){const _0x145ffa=window[_0x243a8f(0x124)][_0x243a8f(0x122)]();_0x489ec7=_0x145ffa?.['user_id']||null,_0x47edc8=_0x145ffa?.[_0x243a8f(0x1e3)]||_0x145ffa?.['account_name']||null;}this[_0x243a8f(0x19e)](PLATFORM_MESSAGE_TYPES[_0x243a8f(0x123)],{'gameId':this['gameId'],'platformVersion':PROTOCOL_VERSION,'userId':_0x489ec7,'username':_0x47edc8,'features':{'scoreTracking':!![],'levelTracking':!![],'fullscreen':!![]}});}[a0_0x28ea34(0xec)](){const _0x2e8fe9=a0_0x28ea34;this[_0x2e8fe9(0x18e)]('Starting\x20game'),this[_0x2e8fe9(0x19e)](PLATFORM_MESSAGE_TYPES[_0x2e8fe9(0x1cf)],{'timestamp':Date[_0x2e8fe9(0x13a)]()});}[a0_0x28ea34(0x1c5)](){const _0x425a4b=a0_0x28ea34,_0x44684f={'KjxGC':_0x425a4b(0x1ef)},_0x570d4a=_0x44684f[_0x425a4b(0x179)][_0x425a4b(0x13c)]('|');let _0x1b7fb7=0x0;while(!![]){switch(_0x570d4a[_0x1b7fb7++]){case'0':if(this[_0x425a4b(0x1a4)][_0x425a4b(0x227)])return;continue;case'1':this[_0x425a4b(0x18e)](_0x425a4b(0x1b6));continue;case'2':this[_0x425a4b(0x19e)](PLATFORM_MESSAGE_TYPES[_0x425a4b(0xe1)],{'timestamp':Date[_0x425a4b(0x13a)]()});continue;case'3':this[_0x425a4b(0x18b)]();continue;case'4':this[_0x425a4b(0x1a4)][_0x425a4b(0x227)]=!![];continue;}break;}}['resume'](){const _0x3db3af=a0_0x28ea34,_0x2ff92b={'tzwlZ':_0x3db3af(0x146),'cPlYr':'Resuming\x20game'},_0xcc45d4=_0x2ff92b[_0x3db3af(0x1c4)]['split']('|');let _0x49acee=0x0;while(!![]){switch(_0xcc45d4[_0x49acee++]){case'0':this[_0x3db3af(0x19e)](PLATFORM_MESSAGE_TYPES[_0x3db3af(0x15b)],{'timestamp':Date['now']()});continue;case'1':this['hidePauseOverlay']();continue;case'2':this['state'][_0x3db3af(0x227)]=![];continue;case'3':this['log'](_0x2ff92b[_0x3db3af(0x1ed)]);continue;case'4':if(!this[_0x3db3af(0x1a4)][_0x3db3af(0x227)])return;continue;}break;}}[a0_0x28ea34(0x1ea)](){const _0x312985=a0_0x28ea34,_0x2090a6={'MwecL':_0x312985(0x10a),'CuWMp':_0x312985(0x1dc)};this[_0x312985(0x18e)](_0x2090a6[_0x312985(0xfc)]),this[_0x312985(0x19e)](PLATFORM_MESSAGE_TYPES[_0x312985(0xd9)],{'timestamp':Date['now']()});const _0x3866ff=this[_0x312985(0x212)][_0x312985(0x1e7)];_0x3866ff&&_0x3866ff['classList'][_0x312985(0x185)](_0x2090a6[_0x312985(0x106)])&&(_0x3866ff[_0x312985(0x103)]['remove'](_0x2090a6[_0x312985(0x106)]),document[_0x312985(0x1d8)][_0x312985(0x22b)][_0x312985(0x10d)]=''),this[_0x312985(0x1de)](![],!![]);}['on'](_0x3755c0,_0x4806cf){const _0x2a23b6=a0_0x28ea34;!this[_0x2a23b6(0x17f)]['has'](_0x3755c0)&&this['eventHandlers'][_0x2a23b6(0x15d)](_0x3755c0,[]),this[_0x2a23b6(0x17f)][_0x2a23b6(0x1c7)](_0x3755c0)['push'](_0x4806cf);}[a0_0x28ea34(0x198)](_0x52e1c7,_0x18c436){const _0x5d6ebe=a0_0x28ea34,_0x510dfc={'Xdolv':function(_0x762dda,_0x217cef){return _0x762dda!==_0x217cef;}};if(!this[_0x5d6ebe(0x17f)][_0x5d6ebe(0x175)](_0x52e1c7))return;const _0x26cec1=this['eventHandlers']['get'](_0x52e1c7),_0x2c78a6=_0x26cec1[_0x5d6ebe(0x12c)](_0x18c436);_0x510dfc[_0x5d6ebe(0x1e6)](_0x2c78a6,-0x1)&&_0x26cec1[_0x5d6ebe(0x108)](_0x2c78a6,0x1);}[a0_0x28ea34(0xd3)](_0x35ca40,_0x3dc077){const _0x5b8606=a0_0x28ea34,_0x373c82={'GNGZJ':function(_0x4c44b6,_0x3dd3d3){return _0x4c44b6(_0x3dd3d3);},'oCYhF':_0x5b8606(0xf4)};if(!this[_0x5b8606(0x17f)][_0x5b8606(0x175)](_0x35ca40))return;const _0x188755=this['eventHandlers']['get'](_0x35ca40);_0x188755[_0x5b8606(0x129)](_0x3a7b7c=>{const _0x500d06=_0x5b8606;try{_0x373c82[_0x500d06(0x1c2)](_0x3a7b7c,_0x3dc077);}catch(_0x5c719b){console[_0x500d06(0xf0)](_0x373c82[_0x500d06(0x17e)],_0x5c719b);}});}['updateScoreDisplay'](_0x53e07e){const _0xe0d13c=a0_0x28ea34,_0x1225c7=document['getElementById']('current-score');_0x1225c7&&(_0x1225c7[_0xe0d13c(0x11a)]=_0x53e07e);}['showPauseOverlay'](){const _0x280342=a0_0x28ea34,_0x43fc33={'mMlBx':_0x280342(0x134),'kpNcb':_0x280342(0x1ab),'rWPUU':_0x280342(0x166)},_0x2d5360=document[_0x280342(0xde)](_0x43fc33[_0x280342(0xf5)]);_0x2d5360&&(_0x2d5360[_0x280342(0x11a)]=_0x43fc33['kpNcb'],_0x2d5360[_0x280342(0x22b)]['color']=_0x43fc33[_0x280342(0x1ae)]);}[a0_0x28ea34(0x153)](){const _0x422677=a0_0x28ea34,_0x2f5dc0={'QtQim':_0x422677(0x134),'hALtO':'Playing','eSQnY':_0x422677(0xfd)},_0x4a587a=document['querySelector'](_0x2f5dc0['QtQim']);_0x4a587a&&(_0x4a587a['textContent']=_0x2f5dc0['hALtO'],_0x4a587a[_0x422677(0x22b)][_0x422677(0x1c3)]=_0x2f5dc0[_0x422677(0x1a5)]);}[a0_0x28ea34(0x1e5)](_0x2cf459){const _0x57385f=a0_0x28ea34,_0x55efdd={'TULHY':_0x57385f(0x134)},_0x328200=document[_0x57385f(0xde)](_0x55efdd['TULHY']);_0x328200&&(_0x328200[_0x57385f(0x11a)]='Game\x20Over\x20-\x20Final\x20Score:\x20'+_0x2cf459,_0x328200['style']['color']=_0x57385f(0x1dd));}[a0_0x28ea34(0x206)](_0x471beb){const _0x1d032c=a0_0x28ea34,_0x4ecaec={'yCXSg':'.game-status','pjVII':_0x1d032c(0xfd)},_0x5b6fc2=document[_0x1d032c(0xde)](_0x4ecaec[_0x1d032c(0x121)]);_0x5b6fc2&&(_0x5b6fc2['textContent']='Level\x20'+_0x471beb+_0x1d032c(0x116),_0x5b6fc2[_0x1d032c(0x22b)][_0x1d032c(0x1c3)]=_0x4ecaec[_0x1d032c(0x1b7)],setTimeout(()=>{const _0x4aa649=_0x1d032c;_0x5b6fc2[_0x4aa649(0x11a)]=_0x4aa649(0x205);},0xbb8));}['cleanup'](_0x3a724a=![],_0x469b53=![]){const _0xc6a9b=a0_0x28ea34,_0x19d5e2={'PdzKY':'Cleanup:\x20Ending\x20active\x20session','GLIrr':_0xc6a9b(0x101),'GoRYn':_0xc6a9b(0x1dc),'HQFxQ':_0xc6a9b(0x1cb),'YpdvQ':_0xc6a9b(0x22a)};if(this[_0xc6a9b(0x117)]&&!_0x469b53)this[_0xc6a9b(0x18e)](_0x19d5e2[_0xc6a9b(0x1f8)]),this[_0xc6a9b(0x18c)](_0x3a724a);else{if(this['sessionId']&&_0x469b53)this['log'](_0x19d5e2['GLIrr']),this[_0xc6a9b(0x117)]=null,this[_0xc6a9b(0x214)]=null;else{}}const _0x15b570=this[_0xc6a9b(0x212)]?.[_0xc6a9b(0x1e7)];_0x15b570&&_0x15b570[_0xc6a9b(0x103)][_0xc6a9b(0x185)](_0x19d5e2['GoRYn'])&&(_0x15b570[_0xc6a9b(0x103)][_0xc6a9b(0x145)](_0x19d5e2[_0xc6a9b(0x1a2)]),document[_0xc6a9b(0x1d8)][_0xc6a9b(0x22b)][_0xc6a9b(0x10d)]=''),window[_0xc6a9b(0x12b)](_0x19d5e2['HQFxQ'],this['boundMessageHandler']),this[_0xc6a9b(0x17f)]['clear'](),this[_0xc6a9b(0x218)]=[],this[_0xc6a9b(0x18e)](_0x19d5e2[_0xc6a9b(0xef)]);}async[a0_0x28ea34(0x13f)](){const _0x1f7ac8=a0_0x28ea34,_0x4694a6={'REqUq':_0x1f7ac8(0x1ee),'umRLU':_0x1f7ac8(0xf9)};this[_0x1f7ac8(0x18e)](_0x4694a6[_0x1f7ac8(0x13b)]);if(this[_0x1f7ac8(0x117)]){this[_0x1f7ac8(0x18e)](_0x4694a6[_0x1f7ac8(0x128)],this[_0x1f7ac8(0x117)]);const _0x39b1ec=this[_0x1f7ac8(0x117)],_0x174cdc=this['state'][_0x1f7ac8(0xe3)],_0x159e2b=this[_0x1f7ac8(0x214)];this['sessionId']=null,this['sessionStartTime']=null,await this[_0x1f7ac8(0x136)](_0x39b1ec,_0x174cdc,_0x159e2b,![]);}else this[_0x1f7ac8(0x18e)]('âœ…\x20No\x20active\x20session\x20(already\x20ended\x20by\x20Game\x20Over)');this[_0x1f7ac8(0x1a4)]['score']=0x0,this[_0x1f7ac8(0x1a4)][_0x1f7ac8(0x1f9)]=![],this['needsNewSession']=![],this['log'](_0x1f7ac8(0x1bd)),await this[_0x1f7ac8(0xe9)]();}async[a0_0x28ea34(0xe9)](){const _0x48d72c=a0_0x28ea34,_0x57bc19={'rXrFN':'ðŸŽ®\x20startGameSession()\x20called','YKOuZ':function(_0x2c5cd0,_0x30e76b){return _0x2c5cd0===_0x30e76b;},'XvIkJ':_0x48d72c(0x186),'yiayH':_0x48d72c(0x11f),'BHibO':_0x48d72c(0x1c0),'gNRXV':_0x48d72c(0x13d),'CTxtY':_0x48d72c(0x1cc),'DuuYz':function(_0x1ed844,_0x38e256,_0x55287c){return _0x1ed844(_0x38e256,_0x55287c);},'DzFpz':'POST','mOcdI':'application/json','hLngX':_0x48d72c(0x213),'MMjoM':_0x48d72c(0x201),'zOBkP':_0x48d72c(0x1b9)};this[_0x48d72c(0x18e)](_0x57bc19[_0x48d72c(0x100)]);try{if(_0x57bc19[_0x48d72c(0x113)](typeof config,_0x48d72c(0x133))||!config[_0x48d72c(0x107)]){this[_0x48d72c(0x18e)](_0x57bc19[_0x48d72c(0x209)]);return;}const _0x53cbf7=JSON[_0x48d72c(0x157)](localStorage[_0x48d72c(0x118)](_0x57bc19[_0x48d72c(0x193)]));this[_0x48d72c(0x18e)](_0x48d72c(0x12a),_0x53cbf7?_0x53cbf7['user_id']:_0x57bc19[_0x48d72c(0x14c)]);if(!_0x53cbf7){this['log'](_0x57bc19[_0x48d72c(0x1c6)]);return;}this[_0x48d72c(0x18e)](_0x57bc19[_0x48d72c(0x1af)],config[_0x48d72c(0x107)]);const _0x4694c7=await _0x57bc19[_0x48d72c(0x18a)](fetch,config[_0x48d72c(0x107)]+_0x48d72c(0x162),{'method':_0x57bc19[_0x48d72c(0xea)],'headers':{'Content-Type':_0x57bc19[_0x48d72c(0x1c8)]},'body':JSON[_0x48d72c(0x207)]({'user_id':_0x53cbf7[_0x48d72c(0x12f)],'game_id':this[_0x48d72c(0x1bf)]})});this[_0x48d72c(0x18e)](_0x57bc19[_0x48d72c(0x104)],_0x4694c7['status']);const _0x3cb570=await _0x4694c7[_0x48d72c(0x154)]();this[_0x48d72c(0x18e)](_0x57bc19[_0x48d72c(0x20f)],_0x3cb570),_0x3cb570[_0x48d72c(0x1d1)]?(this['sessionId']=_0x3cb570['session'][_0x48d72c(0x138)],this[_0x48d72c(0x214)]=Date[_0x48d72c(0x13a)](),this[_0x48d72c(0x18e)](_0x57bc19[_0x48d72c(0x158)],this[_0x48d72c(0x117)])):this['log'](_0x48d72c(0x102),_0x3cb570);}catch(_0x2441c7){this[_0x48d72c(0x18e)](_0x48d72c(0x202),_0x2441c7);}}async[a0_0x28ea34(0x18c)](_0x583664=![]){const _0x14dd60=a0_0x28ea34;if(!this[_0x14dd60(0x117)])return;const _0xa04381=this[_0x14dd60(0x117)],_0x16032c=this['state']['score'],_0x162ac2=this['sessionStartTime'];this['sessionId']=null,this[_0x14dd60(0x214)]=null,await this[_0x14dd60(0x136)](_0xa04381,_0x16032c,_0x162ac2,_0x583664);}async['endGameSessionById'](_0x362485,_0xa08897,_0x29cecd,_0x3028de=![],_0x51adb4=null){const _0x44d72b=a0_0x28ea34,_0x41635d={'mdJnN':function(_0x2c6b1c,_0x5f5b66){return _0x2c6b1c/_0x5f5b66;},'QHHMT':function(_0x1fe043,_0x5e36d){return _0x1fe043===_0x5e36d;},'exvbr':_0x44d72b(0x1d2),'puTov':_0x44d72b(0x149),'IBHAS':_0x44d72b(0x1f3),'aaCJe':_0x44d72b(0x210),'btlhs':_0x44d72b(0x1d4),'HeYCA':_0x44d72b(0x21f),'YdCrp':'gameSessionEnded','VPnbR':'Game\x20session\x20ended:'};if(!_0x362485)return;try{const _0x953ce4=Math[_0x44d72b(0x125)](_0x41635d[_0x44d72b(0xf2)](Date['now']()-_0x29cecd,0x3e8))||0x0,_0x8a3d25=_0x41635d[_0x44d72b(0xe8)](typeof _0xa08897,_0x41635d[_0x44d72b(0x150)])?Math[_0x44d72b(0x125)](_0xa08897):0x0;this[_0x44d72b(0x18e)](_0x41635d[_0x44d72b(0x172)],_0x362485,_0x41635d[_0x44d72b(0x1e1)],_0x8a3d25,'Duration:',_0x953ce4);const _0x205abe={'session_id':_0x362485,'score':_0x8a3d25,'duration_seconds':_0x953ce4,'extra_data':_0x51adb4||{}};this[_0x44d72b(0x18e)](_0x41635d[_0x44d72b(0x114)],JSON[_0x44d72b(0x207)](_0x205abe));if(_0x3028de&&navigator['sendBeacon']){const _0x5aca2d=new Blob([JSON['stringify'](_0x205abe)],{'type':_0x41635d[_0x44d72b(0x1b2)]});navigator[_0x44d72b(0x110)](config[_0x44d72b(0x107)]+_0x44d72b(0x163),_0x5aca2d),this[_0x44d72b(0x18e)]('Game\x20session\x20ended\x20via\x20beacon');return;}const _0xab32f7=await fetch(config[_0x44d72b(0x107)]+'/users/sessions/end',{'method':_0x41635d[_0x44d72b(0x173)],'headers':{'Content-Type':_0x41635d[_0x44d72b(0x1b2)]},'body':JSON[_0x44d72b(0x207)](_0x205abe)});this[_0x44d72b(0x18e)](_0x44d72b(0x22c),_0xab32f7[_0x44d72b(0x111)]);const _0x311b49=await _0xab32f7['json']();this[_0x44d72b(0x18e)]('Backend\x20response\x20data:',_0x311b49);if(_0x311b49[_0x44d72b(0x1d1)]){const _0x2b1592=_0x44d72b(0x21a)['split']('|');let _0x5232ec=0x0;while(!![]){switch(_0x2b1592[_0x5232ec++]){case'0':window[_0x44d72b(0x12e)](new CustomEvent(_0x41635d[_0x44d72b(0x1b0)],{'detail':{'session':_0x311b49[_0x44d72b(0x105)],'xp_earned':_0x311b49[_0x44d72b(0x105)][_0x44d72b(0x187)],'duration_seconds':_0x311b49['session']['duration_seconds']}}));continue;case'1':_0x311b49[_0x44d72b(0x105)][_0x44d72b(0x171)]&&this['showLevelUpNotification'](_0x311b49[_0x44d72b(0x105)][_0x44d72b(0x171)]);continue;case'2':this[_0x44d72b(0x15c)](_0x311b49[_0x44d72b(0x105)][_0x44d72b(0x187)],_0x311b49[_0x44d72b(0x105)]);continue;case'3':this['log'](_0x41635d[_0x44d72b(0x224)],_0x311b49[_0x44d72b(0x105)]);continue;case'4':window[_0x44d72b(0x124)]&&window[_0x44d72b(0x124)][_0x44d72b(0x161)](_0x311b49[_0x44d72b(0x105)][_0x44d72b(0x187)]);continue;}break;}}}catch(_0x301c60){this['log'](_0x44d72b(0x1ad),_0x301c60);}}async[a0_0x28ea34(0x15c)](_0x2a0eb2,_0x55ff95=null){const _0x10b8f1=a0_0x28ea34,_0x27d859={'xp_earned':_0x2a0eb2,'xp_breakdown':_0x55ff95?.[_0x10b8f1(0xe7)]||[],'extra_data':_0x55ff95?.[_0x10b8f1(0x160)]||_0x55ff95?.[_0x10b8f1(0x216)]||null};this[_0x10b8f1(0x19e)]('showXPBanner',_0x27d859);}[a0_0x28ea34(0x1a3)](_0x4a40e6){const _0x39aab2=a0_0x28ea34,_0x517784={'iahJg':function(_0x37aa63,_0x8f6156){return _0x37aa63===_0x8f6156;},'nZsSo':_0x39aab2(0x11d)},{old_level:_0x117b0e,new_level:_0x1ad5c0,title:_0x26d833,badge:_0x426eb1,coins_awarded:_0x3d0726,is_milestone:_0x189cdc}=_0x4a40e6,_0x383d4f=window[_0x39aab2(0x124)]?.[_0x39aab2(0x11f)],_0x33184f=_0x517784[_0x39aab2(0x10b)](_0x383d4f?.[_0x39aab2(0x14d)],!![]),_0x4598f2={..._0x4a40e6,'user_data':{'is_anonymous':_0x33184f}};this[_0x39aab2(0x19e)](_0x517784[_0x39aab2(0x199)],_0x4598f2);}[a0_0x28ea34(0x1b4)](){return{...this['state']};}[a0_0x28ea34(0x18e)](..._0x1c7b3a){}}(function detectDevTools(){const _0x588510=a0_0x28ea34,_0x5284c4={'tkyHw':function(_0x1b8cb1,_0xd212b3){return _0x1b8cb1>_0xd212b3;},'Kcksw':function(_0x5e02bb,_0x45d1ae){return _0x5e02bb-_0x45d1ae;},'LtoIn':function(_0x135d8d){return _0x135d8d();},'dmZtA':function(_0x2e2fa8,_0x3aa057){return _0x2e2fa8&&_0x3aa057;},'nfrQh':function(_0x445ed0){return _0x445ed0();},'TrEKc':function(_0x15abd1,_0xc570f4){return _0x15abd1(_0xc570f4);},'hrIMh':function(_0x5a1833,_0x30d4ce,_0xc2e749){return _0x5a1833(_0x30d4ce,_0xc2e749);}};let _0xac777=![];function _0x2618ab(){const _0x34f567=a0_0x9aaf,_0x14bf34=performance['now']();debugger;return _0x5284c4[_0x34f567(0x1da)](performance['now']()-_0x14bf34,0x64);}function _0x316e31(){const _0x4c96de=a0_0x9aaf;return window[_0x4c96de(0x1f5)]-window['innerWidth']>0xa0||_0x5284c4[_0x4c96de(0x159)](window[_0x4c96de(0x1fd)],window[_0x4c96de(0x15e)])>0xa0;}_0x5284c4[_0x588510(0x10e)](setInterval,()=>{const _0x3e155b=_0x588510,_0x4ed592=_0x5284c4[_0x3e155b(0x14e)](_0x2618ab)||_0x5284c4[_0x3e155b(0x14e)](_0x316e31);if(_0x5284c4[_0x3e155b(0x188)](_0x4ed592,!_0xac777))_0xac777=!![],_0x5284c4[_0x3e155b(0x1a0)](_0x40002b);else!_0x4ed592&&(_0xac777=![]);},0x3e8);function _0x40002b(){const _0x1d3369=_0x588510;_0x5284c4[_0x1d3369(0x219)](alert,'NAH\x20!\x20You\x20shall\x20not\x20pass\x20!'),window[_0x1d3369(0xf1)]&&(this[_0x1d3369(0x19e)](GAME_MESSAGE_TYPES[_0x1d3369(0x1ec)],{'score':0x0,'extra_data':{}}),window[_0x1d3369(0xf1)]['cleanup'](![],!![]),window[_0x1d3369(0xf1)][_0x1d3369(0x1ea)]());}}());export{GAME_MESSAGE_TYPES,PLATFORM_MESSAGE_TYPES,PROTOCOL_VERSION};